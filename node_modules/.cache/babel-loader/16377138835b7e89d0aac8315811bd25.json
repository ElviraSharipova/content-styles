{"ast":null,"code":"import _regeneratorRuntime from\"/home/dekor/eqvium/react_material_test/admin-full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/dekor/eqvium/react_material_test/admin-full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/dekor/eqvium/react_material_test/admin-full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{Grid,Box,InputAdornment,Dialog,DialogActions,DialogContent,DialogContentText,DialogTitle,TextField as Input}from'@material-ui/core';import moment from'moment';import Widget from'../../components/Widget';import{Button}from'../../components/Wrappers';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TablePagination from'@material-ui/core/TablePagination';import TableRow from'@material-ui/core/TableRow';import TableSortLabel from'@material-ui/core/TableSortLabel';import Checkbox from'@material-ui/core/Checkbox';import IconButton from'@material-ui/core/IconButton';import DeleteIcon from'@material-ui/icons/DeleteOutlined';import Notification from'../../components/Notification/Notification';import{toast}from'react-toastify';import{Typography,Chip,Avatar,Link}from'../../components/Wrappers';import{useManagementDispatch,useManagementState}from'../../context/ManagementContext';import useStyles from'./styles';// Icons\nimport{Add as AddIcon,GetApp as DownloadIcon,Search as SearchIcon,CreateOutlined as CreateIcon,HelpOutline as HelpIcon}from'@material-ui/icons';import{actions}from'../../context/ManagementContext';function descendingComparator(a,b,orderBy){if(b[orderBy]<a[orderBy]){return-1;}if(b[orderBy]>a[orderBy]){return 1;}return 0;}function getComparator(order,orderBy){return order==='desc'?function(a,b){return descendingComparator(a,b,orderBy);}:function(a,b){return-descendingComparator(a,b,orderBy);};}function stableSort(array,comparator){var stabilizedThis=array.map(function(el,index){return[el,index];});stabilizedThis.sort(function(a,b){var order=comparator(a[0],b[0]);if(order!==0)return order;return a[1]-b[1];});return stabilizedThis.map(function(el){return el[0];});}var headCells=[{id:'id',numeric:true,disablePadding:true,label:'ID'},{id:'name',numeric:true,disablePadding:false,label:'NAME'},{id:'role',numeric:true,disablePadding:false,label:'ROLE'},{id:'companyName',numeric:true,disablePadding:false,label:'COMPANY NAME'},{id:'email',numeric:true,disablePadding:false,label:'EMAIL'},{id:'status',numeric:true,disablePadding:false,label:'STATUS'},{id:'created',numeric:false,disablePadding:false,label:'CREATED AT'},{id:'actions',numeric:true,disablePadding:false,label:'ACTIONS'}];function EnhancedTableHead(props){var onSelectAllClick=props.onSelectAllClick,order=props.order,orderBy=props.orderBy,numSelected=props.numSelected,rowCount=props.rowCount,onRequestSort=props.onRequestSort;var createSortHandler=function createSortHandler(property){return function(event){onRequestSort(event,property);};};return/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,{padding:\"checkbox\"},/*#__PURE__*/React.createElement(Checkbox,{indeterminate:numSelected>0&&numSelected<rowCount,checked:rowCount>0&&numSelected===rowCount,onChange:onSelectAllClick,inputProps:{'aria-label':'select all desserts'}})),headCells.map(function(headCell){return/*#__PURE__*/React.createElement(TableCell,{key:headCell.id,align:headCell.numeric?'left':'right',padding:headCell.disablePadding?'none':'default',sortDirection:orderBy===headCell.id?order:false},/*#__PURE__*/React.createElement(TableSortLabel,{active:orderBy===headCell.id,direction:orderBy===headCell.id?order:'asc',onClick:createSortHandler(headCell.id)},/*#__PURE__*/React.createElement(Typography,{noWrap:true,weight:'medium',variant:'body2'},headCell.label)));})));}var UserList=function UserList(){var _React$useState=React.useState('asc'),_React$useState2=_slicedToArray(_React$useState,2),order=_React$useState2[0],setOrder=_React$useState2[1];var _React$useState3=React.useState('calories'),_React$useState4=_slicedToArray(_React$useState3,2),orderBy=_React$useState4[0],setOrderBy=_React$useState4[1];var _React$useState5=React.useState([]),_React$useState6=_slicedToArray(_React$useState5,2),selected=_React$useState6[0],setSelected=_React$useState6[1];var _React$useState7=React.useState(0),_React$useState8=_slicedToArray(_React$useState7,2),page=_React$useState8[0],setPage=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),dense=_React$useState10[0],setDense=_React$useState10[1];var _React$useState11=React.useState(5),_React$useState12=_slicedToArray(_React$useState11,2),rowsPerPage=_React$useState12[0],setRowsPerPage=_React$useState12[1];var _React$useState13=React.useState([]),_React$useState14=_slicedToArray(_React$useState13,2),usersRows=_React$useState14[0],setUsersRows=_React$useState14[1];var managementDispatch=useManagementDispatch();var managementValue=useManagementState();var openModal=function openModal(cell){actions.doOpenConfirm(cell)(managementDispatch);};var closeModal=function closeModal(){actions.doCloseConfirm()(managementDispatch);};var handleDelete=function handleDelete(){actions.doDelete(managementValue.idToDelete)(managementDispatch);sendNotification('User deleted');};React.useEffect(function(){sendNotification('This page is only available in React Material Admin Full with Node.js integration!');function fetchAPI(){return _fetchAPI.apply(this,arguments);}function _fetchAPI(){_fetchAPI=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return actions.doFetch({},false)(managementDispatch);case 3:setUsersRows(managementValue.rows);_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));return _fetchAPI.apply(this,arguments);}fetchAPI();},[]);var classes=useStyles();function sendNotification(text){var componentProps={type:\"feedback\",message:text,variant:\"contained\",color:\"success\"};var options={type:\"info\",position:toast.POSITION.TOP_RIGHT,progressClassName:classes.progress,className:classes.notification,timeOut:1000};return toast(/*#__PURE__*/React.createElement(Notification,Object.assign({},componentProps,{className:classes.notificationComponent})),options);}React.useEffect(function(){setUsersRows(managementValue.rows);},[managementValue.rows]);var handleRequestSort=function handleRequestSort(event,property){var isAsc=orderBy===property&&order==='asc';setOrder(isAsc?'desc':'asc');setOrderBy(property);};var handleSelectAllClick=function handleSelectAllClick(event){if(event.target.checked){var newSelecteds=managementValue.rows.map(function(n){return n.id;});setSelected(newSelecteds);return;}setSelected([]);};var handleClick=function handleClick(event,name){var selectedIndex=selected.indexOf(name);var newSelected=[];if(selectedIndex===-1){newSelected=newSelected.concat(selected,name);}else if(selectedIndex===0){newSelected=newSelected.concat(selected.slice(1));}else if(selectedIndex===selected.length-1){newSelected=newSelected.concat(selected.slice(0,-1));}else if(selectedIndex>0){newSelected=newSelected.concat(selected.slice(0,selectedIndex),selected.slice(selectedIndex+1));}setSelected(newSelected);};var handleChangePage=function handleChangePage(event,newPage){setPage(newPage);};var handleChangeRowsPerPage=function handleChangeRowsPerPage(event){setRowsPerPage(parseInt(event.target.value,10));setPage(0);};var isSelected=function isSelected(name){return selected.indexOf(name)!==-1;};var emptyRows=rowsPerPage-Math.min(rowsPerPage,usersRows.length-page*rowsPerPage);var handleSearch=function handleSearch(e){var newArr=usersRows.filter(function(c){return c.name.toLowerCase().includes(e.currentTarget.value.toLowerCase());});setUsersRows(newArr);};return/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Dialog,{open:managementValue.modalOpen,onClose:closeModal,scroll:\"body\",\"aria-labelledby\":\"scroll-dialog-title\"},/*#__PURE__*/React.createElement(DialogTitle,{id:\"alert-dialog-title\"},\"Are you sure that you want to delete user?\"),/*#__PURE__*/React.createElement(DialogContent,null,/*#__PURE__*/React.createElement(DialogContentText,{id:\"alert-dialog-description\"},\"User will be deleted.\")),/*#__PURE__*/React.createElement(DialogActions,null,/*#__PURE__*/React.createElement(Button,{onClick:closeModal,color:\"primary\"},\"Disagree\"),/*#__PURE__*/React.createElement(Button,{onClick:handleDelete,color:\"primary\",autoFocus:true},\"Agree\"))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(Widget,{inheritHeight:true},/*#__PURE__*/React.createElement(Box,{justifyContent:'space-between',display:'flex',alignItems:'flex-start'},/*#__PURE__*/React.createElement(Box,null,/*#__PURE__*/React.createElement(Link,{href:\"#/app/user/add\",underline:\"none\",color:\"#fff\"},/*#__PURE__*/React.createElement(Button,{variant:'contained',color:'success'},/*#__PURE__*/React.createElement(Box,{mr:1,display:'flex'},/*#__PURE__*/React.createElement(AddIcon,null)),\"Add\"))),/*#__PURE__*/React.createElement(Box,{display:'flex',flexDirection:'column',alignItems:'flex-end'},/*#__PURE__*/React.createElement(Button,{variant:'outlined',color:'secondary'},/*#__PURE__*/React.createElement(Box,{display:'flex',mr:1},/*#__PURE__*/React.createElement(DownloadIcon,null)),\"Download\"),/*#__PURE__*/React.createElement(Input,{id:\"search-field\",label:\"Search\",margin:\"dense\",variant:\"outlined\",onChange:function onChange(e){return handleSearch(e);},InputProps:{startAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"start\"},/*#__PURE__*/React.createElement(SearchIcon,null))}}))))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(Widget,{inheritHeight:true,noBodyPadding:true},/*#__PURE__*/React.createElement(TableContainer,null,/*#__PURE__*/React.createElement(Table,{\"aria-labelledby\":\"tableTitle\",size:dense?'small':'medium',\"aria-label\":\"enhanced table\"},/*#__PURE__*/React.createElement(EnhancedTableHead,{numSelected:selected.length,order:order,orderBy:orderBy,onSelectAllClick:handleSelectAllClick,onRequestSort:handleRequestSort,rowCount:usersRows.length}),/*#__PURE__*/React.createElement(TableBody,null,stableSort(usersRows,getComparator(order,orderBy)).slice(page*rowsPerPage,page*rowsPerPage+rowsPerPage).map(function(row,index){var isItemSelected=isSelected(row.id);var labelId=\"enhanced-table-checkbox-\".concat(index);return/*#__PURE__*/React.createElement(TableRow,{hover:true,onClick:function onClick(event){return handleClick(event,row.id);},role:\"checkbox\",\"aria-checked\":isItemSelected,tabIndex:-1,key:row.id,selected:isItemSelected},/*#__PURE__*/React.createElement(TableCell,{padding:\"checkbox\"},/*#__PURE__*/React.createElement(Checkbox,{checked:isItemSelected,inputProps:{'aria-labelledby':labelId}})),/*#__PURE__*/React.createElement(TableCell,{component:\"th\",id:labelId,scope:\"row\",padding:\"none\"},/*#__PURE__*/React.createElement(Typography,{variant:'body2'},index+1)),/*#__PURE__*/React.createElement(TableCell,{align:\"left\"},/*#__PURE__*/React.createElement(Box,{display:'flex',alignItems:'center'},!row.avatars.length?/*#__PURE__*/React.createElement(Avatar,{alt:row.name,style:{marginRight:15,backgroundColor:'#536DFE'}},row.email.charAt(0).toUpperCase()):/*#__PURE__*/React.createElement(Avatar,{alt:row.name,src:row.avatars&&row.avatars[0].publicUrl&&row.avatars[row.avatars.length-1].publicUrl,style:{marginRight:15}}),/*#__PURE__*/React.createElement(Typography,{variant:'body2',noWrap:true},row.name))),/*#__PURE__*/React.createElement(TableCell,{align:\"left\"},/*#__PURE__*/React.createElement(Typography,{variant:'body2'},row.role)),/*#__PURE__*/React.createElement(TableCell,{align:\"left\"},/*#__PURE__*/React.createElement(Typography,{variant:'body2'},\"Flatlogic\")),/*#__PURE__*/React.createElement(TableCell,{align:\"left\"},/*#__PURE__*/React.createElement(Typography,{variant:'body2'},row.email)),/*#__PURE__*/React.createElement(TableCell,{align:\"left\"},/*#__PURE__*/React.createElement(Chip,{color:row.statusColor,label:row.emailVerified&&row.password?'active':'inactive',style:{color:'#fff',height:16,backgroundColor:row.emailVerified&&row.password?'#3CD4A0':'#FF5C93',fontSize:11,fontWeight:'bold'}})),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},/*#__PURE__*/React.createElement(Typography,{variant:'body2'},moment(row.createdAt).format('YYYY-DD-MM'))),/*#__PURE__*/React.createElement(TableCell,{align:\"left\"},/*#__PURE__*/React.createElement(Box,{display:'flex',style:{marginLeft:-12}},/*#__PURE__*/React.createElement(IconButton,{color:'primary'},/*#__PURE__*/React.createElement(Link,{href:\"#app/user/\".concat(row.id,\"/edit\"),color:\"#fff\"},/*#__PURE__*/React.createElement(CreateIcon,null))),/*#__PURE__*/React.createElement(IconButton,{color:'primary'},/*#__PURE__*/React.createElement(Link,{href:\"#app/user/\".concat(row.id),color:\"#fff\"},/*#__PURE__*/React.createElement(HelpIcon,null))),/*#__PURE__*/React.createElement(IconButton,{onClick:function onClick(){return openModal(row.id);},color:'primary'},/*#__PURE__*/React.createElement(DeleteIcon,null)))));}),emptyRows>0&&/*#__PURE__*/React.createElement(TableRow,{style:{height:(dense?33:53)*emptyRows}},/*#__PURE__*/React.createElement(TableCell,{colSpan:6}))))),/*#__PURE__*/React.createElement(TablePagination,{rowsPerPageOptions:[5,10,25],component:\"div\",count:usersRows.length,rowsPerPage:rowsPerPage,page:page,onChangePage:handleChangePage,onChangeRowsPerPage:handleChangeRowsPerPage}))));};export default UserList;","map":{"version":3,"sources":["/home/dekor/eqvium/react_material_test/admin-full/src/pages/user/UserList.js"],"names":["React","Grid","Box","InputAdornment","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","TextField","Input","moment","Widget","Button","Table","TableBody","TableCell","TableContainer","TableHead","TablePagination","TableRow","TableSortLabel","Checkbox","IconButton","DeleteIcon","Notification","toast","Typography","Chip","Avatar","Link","useManagementDispatch","useManagementState","useStyles","Add","AddIcon","GetApp","DownloadIcon","Search","SearchIcon","CreateOutlined","CreateIcon","HelpOutline","HelpIcon","actions","descendingComparator","a","b","orderBy","getComparator","order","stableSort","array","comparator","stabilizedThis","map","el","index","sort","headCells","id","numeric","disablePadding","label","EnhancedTableHead","props","onSelectAllClick","numSelected","rowCount","onRequestSort","createSortHandler","property","event","headCell","UserList","useState","setOrder","setOrderBy","selected","setSelected","page","setPage","dense","setDense","rowsPerPage","setRowsPerPage","usersRows","setUsersRows","managementDispatch","managementValue","openModal","cell","doOpenConfirm","closeModal","doCloseConfirm","handleDelete","doDelete","idToDelete","sendNotification","useEffect","fetchAPI","doFetch","rows","console","log","classes","text","componentProps","type","message","variant","color","options","position","POSITION","TOP_RIGHT","progressClassName","progress","className","notification","timeOut","notificationComponent","handleRequestSort","isAsc","handleSelectAllClick","target","checked","newSelecteds","n","handleClick","name","selectedIndex","indexOf","newSelected","concat","slice","length","handleChangePage","newPage","handleChangeRowsPerPage","parseInt","value","isSelected","emptyRows","Math","min","handleSearch","e","newArr","filter","c","toLowerCase","includes","currentTarget","modalOpen","startAdornment","row","isItemSelected","labelId","avatars","marginRight","backgroundColor","email","charAt","toUpperCase","publicUrl","role","statusColor","emailVerified","password","height","fontSize","fontWeight","createdAt","format","marginLeft"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {\n    Grid,\n    Box,\n    InputAdornment,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle,\n    TextField as Input,\n} from '@material-ui/core'\nimport moment from 'moment'\nimport Widget from '../../components/Widget'\nimport { Button } from '../../components/Wrappers'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableHead from '@material-ui/core/TableHead'\nimport TablePagination from '@material-ui/core/TablePagination'\nimport TableRow from '@material-ui/core/TableRow'\nimport TableSortLabel from '@material-ui/core/TableSortLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport IconButton from '@material-ui/core/IconButton'\nimport DeleteIcon from '@material-ui/icons/DeleteOutlined'\nimport Notification from '../../components/Notification/Notification'\nimport { toast } from 'react-toastify'\n\nimport { Typography, Chip, Avatar, Link } from '../../components/Wrappers'\nimport {\n    useManagementDispatch,\n    useManagementState,\n} from '../../context/ManagementContext'\n\nimport useStyles from './styles'\n// Icons\nimport {\n    Add as AddIcon,\n    GetApp as DownloadIcon,\n    Search as SearchIcon,\n    CreateOutlined as CreateIcon,\n    HelpOutline as HelpIcon,\n} from '@material-ui/icons'\n\nimport { actions } from '../../context/ManagementContext'\n\n\n\nfunction descendingComparator(a, b, orderBy) {\n    if (b[orderBy] < a[orderBy]) {\n        return -1\n    }\n    if (b[orderBy] > a[orderBy]) {\n        return 1\n    }\n    return 0\n}\n\nfunction getComparator(order, orderBy) {\n    return order === 'desc'\n        ? (a, b) => descendingComparator(a, b, orderBy)\n        : (a, b) => -descendingComparator(a, b, orderBy)\n}\n\nfunction stableSort(array, comparator) {\n    const stabilizedThis = array.map((el, index) => [el, index])\n    stabilizedThis.sort((a, b) => {\n        const order = comparator(a[0], b[0])\n        if (order !== 0) return order\n        return a[1] - b[1]\n    })\n    return stabilizedThis.map(el => el[0])\n}\n\nconst headCells = [\n    { id: 'id', numeric: true, disablePadding: true, label: 'ID' },\n    { id: 'name', numeric: true, disablePadding: false, label: 'NAME' },\n    { id: 'role', numeric: true, disablePadding: false, label: 'ROLE' },\n    {\n        id: 'companyName',\n        numeric: true,\n        disablePadding: false,\n        label: 'COMPANY NAME',\n    },\n    { id: 'email', numeric: true, disablePadding: false, label: 'EMAIL' },\n    { id: 'status', numeric: true, disablePadding: false, label: 'STATUS' },\n    {\n        id: 'created',\n        numeric: false,\n        disablePadding: false,\n        label: 'CREATED AT',\n    },\n    { id: 'actions', numeric: true, disablePadding: false, label: 'ACTIONS' },\n]\n\nfunction EnhancedTableHead(props) {\n    const {\n        onSelectAllClick,\n        order,\n        orderBy,\n        numSelected,\n        rowCount,\n        onRequestSort,\n    } = props\n    const createSortHandler = property => event => {\n        onRequestSort(event, property)\n    }\n\n    return (\n        <TableHead>\n            <TableRow>\n                <TableCell padding=\"checkbox\">\n                    <Checkbox\n                        indeterminate={\n                            numSelected > 0 && numSelected < rowCount\n                        }\n                        checked={rowCount > 0 && numSelected === rowCount}\n                        onChange={onSelectAllClick}\n                        inputProps={{ 'aria-label': 'select all desserts' }}\n                    />\n                </TableCell>\n                {headCells.map(headCell => (\n                    <TableCell\n                        key={headCell.id}\n                        align={headCell.numeric ? 'left' : 'right'}\n                        padding={headCell.disablePadding ? 'none' : 'default'}\n                        sortDirection={orderBy === headCell.id ? order : false}\n                    >\n                        <TableSortLabel\n                            active={orderBy === headCell.id}\n                            direction={orderBy === headCell.id ? order : 'asc'}\n                            onClick={createSortHandler(headCell.id)}\n                        >\n                            <Typography\n                                noWrap\n                                weight={'medium'}\n                                variant={'body2'}\n                            >\n                                {headCell.label}\n                            </Typography>\n                        </TableSortLabel>\n                    </TableCell>\n                ))}\n            </TableRow>\n        </TableHead>\n    )\n}\n\nconst UserList = () => {\n    const [order, setOrder] = React.useState('asc')\n    const [orderBy, setOrderBy] = React.useState('calories')\n    const [selected, setSelected] = React.useState([])\n    const [page, setPage] = React.useState(0)\n    const [dense, setDense] = React.useState(false)\n    const [rowsPerPage, setRowsPerPage] = React.useState(5)\n    const [usersRows, setUsersRows] = React.useState([])\n\n    var managementDispatch = useManagementDispatch()\n    var managementValue = useManagementState()\n    const openModal = (cell) => {\n      actions.doOpenConfirm(cell)(managementDispatch);\n    }\n\n    const closeModal = () => {\n      actions.doCloseConfirm()(managementDispatch)\n    }\n\n    const handleDelete = () => {\n      actions.doDelete(managementValue.idToDelete)(managementDispatch);\n      sendNotification('User deleted')\n    }\n\n    React.useEffect(() => {\n      sendNotification('This page is only available in React Material Admin Full with Node.js integration!')\n      async function fetchAPI() {\n        try {\n          await actions.doFetch({}, false)(managementDispatch);\n          setUsersRows(managementValue.rows);\n        } catch (e) {\n          console.log(e);\n        }\n      }\n      fetchAPI();\n    }, []);\n\n    const classes = useStyles();\n\n    function sendNotification(text) {\n      const componentProps = {\n        type: \"feedback\",\n        message: text,\n        variant: \"contained\",\n        color: \"success\"\n      };\n      const options = {\n        type: \"info\",\n        position: toast.POSITION.TOP_RIGHT,\n        progressClassName: classes.progress,\n        className: classes.notification,\n        timeOut: 1000\n      };\n      return toast(\n        <Notification\n          {...componentProps}\n          className={classes.notificationComponent}\n        />,\n        options\n      );\n    }\n\n    React.useEffect(() => {\n      setUsersRows(managementValue.rows)\n    },[managementValue.rows]);\n\n    const handleRequestSort = (event, property) => {\n        const isAsc = orderBy === property && order === 'asc'\n        setOrder(isAsc ? 'desc' : 'asc')\n        setOrderBy(property)\n    }\n\n    const handleSelectAllClick = event => {\n        if (event.target.checked) {\n            const newSelecteds = managementValue.rows.map(n => n.id)\n            setSelected(newSelecteds)\n            return\n        }\n        setSelected([])\n    }\n\n    const handleClick = (event, name) => {\n        const selectedIndex = selected.indexOf(name)\n        let newSelected = []\n\n        if (selectedIndex === -1) {\n            newSelected = newSelected.concat(selected, name)\n        } else if (selectedIndex === 0) {\n            newSelected = newSelected.concat(selected.slice(1))\n        } else if (selectedIndex === selected.length - 1) {\n            newSelected = newSelected.concat(selected.slice(0, -1))\n        } else if (selectedIndex > 0) {\n            newSelected = newSelected.concat(\n                selected.slice(0, selectedIndex),\n                selected.slice(selectedIndex + 1)\n            )\n        }\n\n        setSelected(newSelected)\n    }\n\n    const handleChangePage = (event, newPage) => {\n        setPage(newPage)\n    }\n\n    const handleChangeRowsPerPage = event => {\n        setRowsPerPage(parseInt(event.target.value, 10))\n        setPage(0)\n    }\n\n    const isSelected = name => selected.indexOf(name) !== -1\n\n    const emptyRows =\n        rowsPerPage - Math.min(rowsPerPage, usersRows.length - page * rowsPerPage)\n\n    const handleSearch = e => {\n        const newArr = usersRows.filter(c => {\n            return c.name\n                .toLowerCase()\n                .includes(e.currentTarget.value.toLowerCase())\n        })\n        setUsersRows(newArr)\n    }\n\n    return (\n        <Grid container spacing={3}>\n          <Dialog\n            open={managementValue.modalOpen}\n            onClose={closeModal}\n            scroll={\"body\"}\n            aria-labelledby=\"scroll-dialog-title\"\n          >\n            <DialogTitle id=\"alert-dialog-title\">\n              Are you sure that you want to delete user?\n            </DialogTitle>\n            <DialogContent>\n              <DialogContentText id=\"alert-dialog-description\">\n                User will be deleted.\n              </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n              <Button\n                onClick={closeModal}\n                color=\"primary\"\n              >\n                Disagree\n              </Button>\n              <Button\n                onClick={handleDelete}\n                color=\"primary\"\n                autoFocus\n              >\n                Agree\n              </Button>\n            </DialogActions>\n          </Dialog>\n            <Grid item xs={12}>\n                <Widget inheritHeight>\n                    <Box\n                        justifyContent={'space-between'}\n                        display={'flex'}\n                        alignItems={'flex-start'}\n                    >\n                        <Box>\n                            <Link href=\"#/app/user/add\" underline=\"none\" color=\"#fff\">\n                                <Button variant={'contained'} color={'success'}>\n                                    <Box mr={1} display={'flex'}>\n                                        <AddIcon />\n                                    </Box>\n                                    Add\n                                </Button>\n                            </Link>\n                        </Box>\n                        <Box\n                            display={'flex'}\n                            flexDirection={'column'}\n                            alignItems={'flex-end'}\n                        >\n                            <Button variant={'outlined'} color={'secondary'}>\n                                <Box display={'flex'} mr={1}>\n                                    <DownloadIcon />\n                                </Box>\n                                Download\n                            </Button>\n                            <Input\n                                id=\"search-field\"\n                                label=\"Search\"\n                                margin=\"dense\"\n                                variant=\"outlined\"\n                                onChange={e => handleSearch(e)}\n                                InputProps={{\n                                    startAdornment: (\n                                        <InputAdornment position=\"start\">\n                                            <SearchIcon />\n                                        </InputAdornment>\n                                    ),\n                                }}\n                            />\n                        </Box>\n                    </Box>\n                </Widget>\n            </Grid>\n            <Grid item xs={12}>\n                <Widget inheritHeight noBodyPadding>\n                    <TableContainer>\n                        <Table\n                            aria-labelledby=\"tableTitle\"\n                            size={dense ? 'small' : 'medium'}\n                            aria-label=\"enhanced table\"\n                        >\n                            <EnhancedTableHead\n                                numSelected={selected.length}\n                                order={order}\n                                orderBy={orderBy}\n                                onSelectAllClick={handleSelectAllClick}\n                                onRequestSort={handleRequestSort}\n                                rowCount={usersRows.length}\n                            />\n                            <TableBody>\n                                {stableSort(\n                                    usersRows,\n                                    getComparator(order, orderBy)\n                                )\n                                    .slice(\n                                        page * rowsPerPage,\n                                        page * rowsPerPage + rowsPerPage\n                                    )\n                                    .map((row, index) => {\n                                        const isItemSelected = isSelected(\n                                            row.id\n                                        )\n                                        const labelId = `enhanced-table-checkbox-${index}`\n                                        return (\n                                            <TableRow\n                                                hover\n                                                onClick={event =>\n                                                    handleClick(event, row.id)\n                                                }\n                                                role=\"checkbox\"\n                                                aria-checked={isItemSelected}\n                                                tabIndex={-1}\n                                                key={row.id}\n                                                selected={isItemSelected}\n                                            >\n                                                <TableCell padding=\"checkbox\">\n                                                    <Checkbox\n                                                        checked={isItemSelected}\n                                                        inputProps={{\n                                                            'aria-labelledby': labelId,\n                                                        }}\n                                                    />\n                                                </TableCell>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    id={labelId}\n                                                    scope=\"row\"\n                                                    padding=\"none\"\n                                                >\n                                                    <Typography\n                                                        variant={'body2'}\n                                                    >\n                                                        {index+1}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell align=\"left\">\n                                                    <Box\n                                                        display={'flex'}\n                                                        alignItems={'center'}\n                                                    >\n                                                        {!row.avatars.length ? (\n                                                            <Avatar\n                                                                alt={row.name}\n                                                                style={{\n                                                                    marginRight: 15,\n                                                                    backgroundColor: '#536DFE'\n                                                                }}\n                                                            >\n                                                                {row.email.charAt(0).toUpperCase()}\n                                                            </Avatar>\n                                                        ) : (\n                                                          <Avatar\n                                                              alt={row.name}\n                                                              src={row.avatars && row.avatars[0].publicUrl && row.avatars[row.avatars.length-1].publicUrl}\n                                                              style={{\n                                                                  marginRight: 15,\n                                                              }}\n                                                          />\n                                                        )}\n                                                        <Typography\n                                                            variant={'body2'}\n                                                            noWrap\n                                                        >\n                                                            {row.name}\n                                                        </Typography>\n                                                    </Box>\n                                                </TableCell>\n                                                <TableCell align=\"left\">\n                                                    <Typography\n                                                        variant={'body2'}\n                                                    >\n                                                        {row.role}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell align=\"left\">\n                                                    <Typography\n                                                        variant={'body2'}\n                                                    >\n                                                        Flatlogic\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell align=\"left\">\n                                                    <Typography\n                                                        variant={'body2'}\n                                                    >\n                                                        {row.email}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell align=\"left\">\n                                                    <Chip\n                                                        color={\n                                                            row.statusColor\n                                                        }\n                                                        label={(row.emailVerified && row.password) ? 'active' : 'inactive'}\n                                                        style={{\n                                                            color: '#fff',\n                                                            height: 16,\n                                                            backgroundColor: (row.emailVerified && row.password) ? '#3CD4A0' : '#FF5C93',\n                                                            fontSize: 11,\n                                                            fontWeight:\n                                                                'bold',\n                                                        }}\n                                                    />\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    <Typography\n                                                        variant={'body2'}\n                                                    >\n                                                        {moment(row.createdAt).format('YYYY-DD-MM')}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell align=\"left\">\n                                                    <Box\n                                                        display={'flex'}\n                                                        style={{\n                                                            marginLeft: -12,\n                                                        }}\n                                                    >\n                                                        <IconButton\n                                                            color={'primary'}\n                                                        >\n                                                          <Link href={`#app/user/${row.id}/edit`} color=\"#fff\">\n                                                            <CreateIcon />\n                                                          </Link>\n                                                        </IconButton>\n                                                        <IconButton\n                                                            color={'primary'}\n                                                        >\n                                                            <Link href={`#app/user/${row.id}`} color=\"#fff\">\n                                                              <HelpIcon />\n                                                            </Link>\n                                                        </IconButton>\n                                                        <IconButton\n                                                            onClick={() => openModal(row.id)}\n                                                            color={'primary'}\n                                                        >\n                                                            <DeleteIcon />\n                                                        </IconButton>\n                                                    </Box>\n                                                </TableCell>\n                                            </TableRow>\n                                        )\n                                    })}\n                                {emptyRows > 0 && (\n                                    <TableRow\n                                        style={{\n                                            height:\n                                                (dense ? 33 : 53) * emptyRows,\n                                        }}\n                                    >\n                                        <TableCell colSpan={6} />\n                                    </TableRow>\n                                )}\n                            </TableBody>\n                        </Table>\n                    </TableContainer>\n                    <TablePagination\n                        rowsPerPageOptions={[5, 10, 25]}\n                        component=\"div\"\n                        count={usersRows.length}\n                        rowsPerPage={rowsPerPage}\n                        page={page}\n                        onChangePage={handleChangePage}\n                        onChangeRowsPerPage={handleChangeRowsPerPage}\n                    />\n                </Widget>\n            </Grid>\n        </Grid>\n    )\n}\n\nexport default UserList\n"]},"metadata":{},"sourceType":"module"}