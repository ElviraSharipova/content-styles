{"ast":null,"code":"var _jsxFileName = \"/home/dekor/eqvium/react_material_test/admin-full/src/pages/ecommerce/CreateProduct.js\";\nimport React, { useEffect } from \"react\";\nimport { Box, CircularProgress, Grid, MenuItem, Select, TextField as Input } from \"@material-ui/core\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport useStyles from \"./styles\"; //context\n\nimport { getProductsRequest, useProductsState, updateProduct, createProduct, getProductsImages } from \"../../context/ProductContext\"; //components\n\nimport Widget from \"../../components/Widget\";\nimport { Typography, Button } from \"../../components/Wrappers\";\nimport config from \"../../config\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { Close as CloseIcon } from \"@material-ui/icons\";\nimport Notification from \"../../components/Notification\";\n\nconst CreateProduct = () => {\n  const classes = useStyles();\n  const {\n    id\n  } = useParams();\n  const context = useProductsState();\n\n  const getId = id => {\n    return context.products.products.findIndex(c => {\n      return c.id == id; // eslint-disable-line\n    });\n  };\n\n  const [localProducts, setLocalProducts] = React.useState(context.products.products[getId(id)]);\n  const [newProduct, setNewProduct] = React.useState({\n    img: \"https://flatlogic-node-backend.herokuapp.com/assets/products/img1.jpg\",\n    title: null,\n    subtitle: null,\n    price: 0.1,\n    rating: 5,\n    description_1: null,\n    description_2: null,\n    code: null,\n    hashtag: null,\n    technology: [],\n    discount: 0\n  });\n\n  function sendNotification() {\n    const componentProps = {\n      type: \"feedback\",\n      message: \"Product has been Updated!\",\n      variant: \"contained\",\n      color: \"success\"\n    };\n    const options = {\n      type: \"info\",\n      position: toast.POSITION.TOP_RIGHT,\n      progressClassName: classes.progress,\n      className: classes.notification,\n      timeOut: 1000\n    };\n    return toast( /*#__PURE__*/React.createElement(Notification, Object.assign({}, componentProps, {\n      className: classes.notificationComponent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }\n    })), options);\n  }\n\n  useEffect(() => {\n    getProductsRequest(context.setProducts);\n    getProductsImages(context.setProducts);\n  }, []); // eslint-disable-line\n\n  useEffect(() => {\n    setLocalProducts(context.products.products[getId(id)]);\n  }, [context]); // eslint-disable-line\n\n  const history = useHistory();\n\n  const editProduct = e => {\n    setLocalProducts({ ...localProducts,\n      [e.target.id]: e.currentTarget.value\n    });\n  };\n\n  const editNewProduct = e => {\n    setNewProduct({ ...newProduct,\n      [e.target.id]: e.currentTarget.value\n    });\n  };\n\n  const getEditProduct = () => {\n    updateProduct(localProducts, context.setProducts);\n    sendNotification();\n  };\n\n  const createNewProduct = () => {\n    createProduct(newProduct, context.setProducts);\n    history.push(\"/app/ecommerce/management\");\n  };\n\n  const changeImgSrc = e => {\n    if (isCreateProduct) {\n      setNewProduct({ ...localProducts,\n        img: e.target.value\n      });\n    } else {\n      setLocalProducts({ ...localProducts,\n        img: e.target.value\n      });\n    }\n  };\n\n  const isCreateProduct = window.location.hash === \"#/app/ecommerce/management/create\";\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ToastContainer, {\n    className: classes.toastsContainer,\n    closeButton: /*#__PURE__*/React.createElement(CloseButton, {\n      className: classes.notificationCloseButton,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }\n    }),\n    closeOnClick: false,\n    progressClassName: classes.notificationProgress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Widget, {\n    title: isCreateProduct ? \"New product\" : \"Edit product\",\n    disableWidgetMenu: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }, config.isBackend && !context.products.isLoaded ? /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CircularProgress, {\n    size: 26,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }\n  })) : /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    width: 300,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }, \"Image\")), /*#__PURE__*/React.createElement(Box, {\n    width: 200,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    value: isCreateProduct ? newProduct.img : localProducts.img,\n    fullWidth: true,\n    onChange: e => changeImgSrc(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 21\n    }\n  }, context.products.images.map((c, i) => /*#__PURE__*/React.createElement(MenuItem, {\n    value: c,\n    key: c,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: c,\n    style: {\n      height: 100,\n      width: 200\n    },\n    alt: \"ecommerce product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 27\n    }\n  })))))), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    width: 300,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 21\n    }\n  }, \"Title\")), /*#__PURE__*/React.createElement(Box, {\n    width: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    id: \"title\",\n    margin: \"normal\",\n    variant: \"outlined\",\n    value: isCreateProduct ? newProduct.title : localProducts.title,\n    fullWidth: true,\n    onChange: e => isCreateProduct ? editNewProduct(e) : editProduct(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    width: 300,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 21\n    }\n  }, \"Subtitle\")), /*#__PURE__*/React.createElement(Box, {\n    width: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    id: \"subtitle\",\n    margin: \"normal\",\n    variant: \"outlined\",\n    value: isCreateProduct ? newProduct.subtitle : localProducts.subtitle,\n    fullWidth: true,\n    onChange: e => isCreateProduct ? editNewProduct(e) : editProduct(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    width: 300,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 21\n    }\n  }, \"Price\")), /*#__PURE__*/React.createElement(Box, {\n    width: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    id: \"price\",\n    margin: \"normal\",\n    variant: \"outlined\",\n    value: isCreateProduct ? newProduct.price : localProducts.price,\n    type: \"number\",\n    fullWidth: true,\n    onChange: e => isCreateProduct ? editNewProduct(e) : editProduct(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    width: 300,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 21\n    }\n  }, \"Discount\")), /*#__PURE__*/React.createElement(Box, {\n    width: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    id: \"discount\",\n    margin: \"normal\",\n    variant: \"outlined\",\n    value: isCreateProduct ? newProduct.discount : localProducts.discount,\n    type: \"number\",\n    fullWidth: true,\n    onChange: e => isCreateProduct ? editNewProduct(e) : editProduct(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    width: 300,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 21\n    }\n  }, \"Description 1\")), /*#__PURE__*/React.createElement(Box, {\n    width: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    id: \"description_1\",\n    margin: \"normal\",\n    variant: \"outlined\",\n    multiline: true,\n    value: isCreateProduct ? newProduct[\"description_1\"] : localProducts[\"description_1\"],\n    fullWidth: true,\n    onChange: e => isCreateProduct ? editNewProduct(e) : editProduct(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    width: 300,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 21\n    }\n  }, \"Description 2\")), /*#__PURE__*/React.createElement(Box, {\n    width: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    id: \"description_2\",\n    margin: \"normal\",\n    variant: \"outlined\",\n    multiline: true,\n    value: isCreateProduct ? newProduct[\"description_2\"] : localProducts[\"description_2\"],\n    fullWidth: true,\n    onChange: e => isCreateProduct ? editNewProduct(e) : editProduct(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    width: 300,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 21\n    }\n  }, \"Code\")), /*#__PURE__*/React.createElement(Box, {\n    width: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    id: \"code\",\n    margin: \"normal\",\n    variant: \"outlined\",\n    value: isCreateProduct ? newProduct.code : localProducts.code,\n    fullWidth: true,\n    onChange: e => isCreateProduct ? editNewProduct(e) : editProduct(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    width: 300,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 21\n    }\n  }, \"Hashtag\")), /*#__PURE__*/React.createElement(Box, {\n    width: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    id: \"hashtag\",\n    margin: \"normal\",\n    variant: \"outlined\",\n    value: isCreateProduct ? newProduct.hashtag : localProducts.hashtag,\n    fullWidth: true,\n    onChange: e => isCreateProduct ? editNewProduct(e) : editProduct(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    width: 300,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 21\n    }\n  }, \"Technology\")), /*#__PURE__*/React.createElement(Box, {\n    width: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    id: \"technology\",\n    margin: \"normal\",\n    variant: \"outlined\",\n    placeholder: \"Add Tag\",\n    fullWidth: true,\n    onChange: e => isCreateProduct ? editNewProduct(e) : editProduct(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    width: 300,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 21\n    }\n  }, \"Rating\")), /*#__PURE__*/React.createElement(Box, {\n    width: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    id: \"rating\",\n    margin: \"normal\",\n    variant: \"outlined\",\n    type: \"number\",\n    value: isCreateProduct ? newProduct.rating : localProducts.rating,\n    fullWidth: true,\n    onChange: e => isCreateProduct ? editNewProduct(e) : editProduct(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"success\",\n    style: {\n      marginRight: 8\n    },\n    onClick: () => isCreateProduct ? createNewProduct() : getEditProduct(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 19\n    }\n  }, isCreateProduct ? \"Save\" : \"Edit\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    onClick: () => history.push(\"/app/ecommerce/management\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 19\n    }\n  }, \"Back\")))))));\n};\n\nfunction CloseButton({\n  closeToast,\n  className\n}) {\n  return /*#__PURE__*/React.createElement(CloseIcon, {\n    className: className,\n    onClick: closeToast,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 10\n    }\n  });\n}\n\nexport default CreateProduct;","map":{"version":3,"sources":["/home/dekor/eqvium/react_material_test/admin-full/src/pages/ecommerce/CreateProduct.js"],"names":["React","useEffect","Box","CircularProgress","Grid","MenuItem","Select","TextField","Input","useParams","useHistory","useStyles","getProductsRequest","useProductsState","updateProduct","createProduct","getProductsImages","Widget","Typography","Button","config","toast","ToastContainer","Close","CloseIcon","Notification","CreateProduct","classes","id","context","getId","products","findIndex","c","localProducts","setLocalProducts","useState","newProduct","setNewProduct","img","title","subtitle","price","rating","description_1","description_2","code","hashtag","technology","discount","sendNotification","componentProps","type","message","variant","color","options","position","POSITION","TOP_RIGHT","progressClassName","progress","className","notification","timeOut","notificationComponent","setProducts","history","editProduct","e","target","currentTarget","value","editNewProduct","getEditProduct","createNewProduct","push","changeImgSrc","isCreateProduct","window","location","hash","toastsContainer","notificationCloseButton","notificationProgress","isBackend","isLoaded","images","map","i","height","width","marginRight","CloseButton","closeToast"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport {\n  Box,\n  CircularProgress,\n  Grid,\n  MenuItem,\n  Select,\n  TextField as Input\n} from \"@material-ui/core\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport useStyles from \"./styles\";\n\n//context\nimport {\n  getProductsRequest,\n  useProductsState,\n  updateProduct,\n  createProduct,\n  getProductsImages\n} from \"../../context/ProductContext\";\n\n//components\nimport Widget from \"../../components/Widget\";\nimport { Typography, Button } from \"../../components/Wrappers\";\nimport config from \"../../config\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { Close as CloseIcon } from \"@material-ui/icons\";\nimport Notification from \"../../components/Notification\";\n\nconst CreateProduct = () => {\n  const classes = useStyles();\n  const { id } = useParams();\n  const context = useProductsState();\n\n  const getId = id => {\n    return context.products.products.findIndex(c => {\n      return c.id == id; // eslint-disable-line\n    });\n  };\n\n  const [localProducts, setLocalProducts] = React.useState(\n    context.products.products[getId(id)]\n  );\n\n  const [newProduct, setNewProduct] = React.useState({\n    img:\n      \"https://flatlogic-node-backend.herokuapp.com/assets/products/img1.jpg\",\n    title: null,\n    subtitle: null,\n    price: 0.1,\n    rating: 5,\n    description_1: null,\n    description_2: null,\n    code: null,\n    hashtag: null,\n    technology: [],\n    discount: 0\n  });\n\n  function sendNotification() {\n    const componentProps = {\n      type: \"feedback\",\n      message: \"Product has been Updated!\",\n      variant: \"contained\",\n      color: \"success\"\n    };\n    const options = {\n      type: \"info\",\n      position: toast.POSITION.TOP_RIGHT,\n      progressClassName: classes.progress,\n      className: classes.notification,\n      timeOut: 1000\n    };\n    return toast(\n      <Notification\n        {...componentProps}\n        className={classes.notificationComponent}\n      />,\n      options\n    );\n  }\n\n  useEffect(() => {\n    getProductsRequest(context.setProducts);\n    getProductsImages(context.setProducts);\n  }, []); // eslint-disable-line\n\n  useEffect(() => {\n    setLocalProducts(context.products.products[getId(id)]);\n  }, [context]); // eslint-disable-line\n\n  const history = useHistory();\n\n  const editProduct = e => {\n    setLocalProducts({\n      ...localProducts,\n      [e.target.id]: e.currentTarget.value\n    });\n  };\n\n  const editNewProduct = e => {\n    setNewProduct({\n      ...newProduct,\n      [e.target.id]: e.currentTarget.value\n    });\n  };\n\n  const getEditProduct = () => {\n    updateProduct(localProducts, context.setProducts);\n    sendNotification();\n  };\n\n  const createNewProduct = () => {\n    createProduct(newProduct, context.setProducts);\n    history.push(\"/app/ecommerce/management\");\n  };\n\n  const changeImgSrc = e => {\n    if (isCreateProduct) {\n      setNewProduct({ ...localProducts, img: e.target.value });\n    } else {\n      setLocalProducts({ ...localProducts, img: e.target.value });\n    }\n  };\n\n\n  const isCreateProduct =\n    window.location.hash === \"#/app/ecommerce/management/create\";\n\n  return (\n    <>\n      <Grid container spacing={3}>\n        <ToastContainer\n          className={classes.toastsContainer}\n          closeButton={\n            <CloseButton className={classes.notificationCloseButton} />\n          }\n          closeOnClick={false}\n          progressClassName={classes.notificationProgress}\n        />\n        <Grid item xs={12}>\n          <Widget\n            title={isCreateProduct ? \"New product\" : \"Edit product\"}\n            disableWidgetMenu\n          >\n            {config.isBackend && !context.products.isLoaded ? (\n              <Box\n                display={\"flex\"}\n                justifyContent={\"center\"}\n                alignItems={\"center\"}\n              >\n                <CircularProgress size={26} />\n              </Box>\n            ) : (\n              <Box display={\"flex\"} flexDirection=\"column\">\n                <Box display={\"flex\"} alignItems={\"center\"}>\n                  <Box width={300}>\n                    <Typography variant={\"h6\"}>Image</Typography>\n                  </Box>\n                  <Box width={200}>\n                    <Select\n                      value={\n                        isCreateProduct ? newProduct.img : localProducts.img\n                      }\n                      fullWidth\n                      onChange={e => changeImgSrc(e)}\n                    >\n                      {context.products.images.map((c, i) => (\n                        <MenuItem value={c} key={c}>\n                          <img src={c} style={{ height: 100, width: 200 }} alt={\"ecommerce product\"}/>\n                        </MenuItem>\n                      ))}\n                    </Select>\n                  </Box>\n                </Box>\n                <Box display={\"flex\"} alignItems={\"center\"}>\n                  <Box width={300}>\n                    <Typography variant={\"h6\"}>Title</Typography>\n                  </Box>\n                  <Box width={500}>\n                    <Input\n                      id=\"title\"\n                      margin=\"normal\"\n                      variant=\"outlined\"\n                      value={\n                        isCreateProduct ? newProduct.title : localProducts.title\n                      }\n                      fullWidth\n                      onChange={e =>\n                        isCreateProduct ? editNewProduct(e) : editProduct(e)\n                      }\n                    />\n                  </Box>\n                </Box>\n                <Box display={\"flex\"} alignItems={\"center\"}>\n                  <Box width={300}>\n                    <Typography variant={\"h6\"}>Subtitle</Typography>\n                  </Box>\n                  <Box width={500}>\n                    <Input\n                      id=\"subtitle\"\n                      margin=\"normal\"\n                      variant=\"outlined\"\n                      value={\n                        isCreateProduct\n                          ? newProduct.subtitle\n                          : localProducts.subtitle\n                      }\n                      fullWidth\n                      onChange={e =>\n                        isCreateProduct ? editNewProduct(e) : editProduct(e)\n                      }\n                    />\n                  </Box>\n                </Box>\n                <Box display={\"flex\"} alignItems={\"center\"}>\n                  <Box width={300}>\n                    <Typography variant={\"h6\"}>Price</Typography>\n                  </Box>\n                  <Box width={500}>\n                    <Input\n                      id=\"price\"\n                      margin=\"normal\"\n                      variant=\"outlined\"\n                      value={\n                        isCreateProduct ? newProduct.price : localProducts.price\n                      }\n                      type={\"number\"}\n                      fullWidth\n                      onChange={e =>\n                        isCreateProduct ? editNewProduct(e) : editProduct(e)\n                      }\n                    />\n                  </Box>\n                </Box>\n                <Box display={\"flex\"} alignItems={\"center\"}>\n                  <Box width={300}>\n                    <Typography variant={\"h6\"}>Discount</Typography>\n                  </Box>\n                  <Box width={500}>\n                    <Input\n                      id=\"discount\"\n                      margin=\"normal\"\n                      variant=\"outlined\"\n                      value={\n                        isCreateProduct\n                          ? newProduct.discount\n                          : localProducts.discount\n                      }\n                      type={\"number\"}\n                      fullWidth\n                      onChange={e =>\n                        isCreateProduct ? editNewProduct(e) : editProduct(e)\n                      }\n                    />\n                  </Box>\n                </Box>\n                <Box display={\"flex\"} alignItems={\"center\"}>\n                  <Box width={300}>\n                    <Typography variant={\"h6\"}>Description 1</Typography>\n                  </Box>\n                  <Box width={500}>\n                    <Input\n                      id=\"description_1\"\n                      margin=\"normal\"\n                      variant=\"outlined\"\n                      multiline\n                      value={\n                        isCreateProduct\n                          ? newProduct[\"description_1\"]\n                          : localProducts[\"description_1\"]\n                      }\n                      fullWidth\n                      onChange={e =>\n                        isCreateProduct ? editNewProduct(e) : editProduct(e)\n                      }\n                    />\n                  </Box>\n                </Box>\n                <Box display={\"flex\"} alignItems={\"center\"}>\n                  <Box width={300}>\n                    <Typography variant={\"h6\"}>Description 2</Typography>\n                  </Box>\n                  <Box width={500}>\n                    <Input\n                      id=\"description_2\"\n                      margin=\"normal\"\n                      variant=\"outlined\"\n                      multiline\n                      value={\n                        isCreateProduct\n                          ? newProduct[\"description_2\"]\n                          : localProducts[\"description_2\"]\n                      }\n                      fullWidth\n                      onChange={e =>\n                        isCreateProduct ? editNewProduct(e) : editProduct(e)\n                      }\n                    />\n                  </Box>\n                </Box>\n                <Box display={\"flex\"} alignItems={\"center\"}>\n                  <Box width={300}>\n                    <Typography variant={\"h6\"}>Code</Typography>\n                  </Box>\n                  <Box width={500}>\n                    <Input\n                      id=\"code\"\n                      margin=\"normal\"\n                      variant=\"outlined\"\n                      value={\n                        isCreateProduct ? newProduct.code : localProducts.code\n                      }\n                      fullWidth\n                      onChange={e =>\n                        isCreateProduct ? editNewProduct(e) : editProduct(e)\n                      }\n                    />\n                  </Box>\n                </Box>\n                <Box display={\"flex\"} alignItems={\"center\"}>\n                  <Box width={300}>\n                    <Typography variant={\"h6\"}>Hashtag</Typography>\n                  </Box>\n                  <Box width={500}>\n                    <Input\n                      id=\"hashtag\"\n                      margin=\"normal\"\n                      variant=\"outlined\"\n                      value={\n                        isCreateProduct\n                          ? newProduct.hashtag\n                          : localProducts.hashtag\n                      }\n                      fullWidth\n                      onChange={e =>\n                        isCreateProduct ? editNewProduct(e) : editProduct(e)\n                      }\n                    />\n                  </Box>\n                </Box>\n                <Box display={\"flex\"} alignItems={\"center\"}>\n                  <Box width={300}>\n                    <Typography variant={\"h6\"}>Technology</Typography>\n                  </Box>\n                  <Box width={500}>\n                    <Input\n                      id=\"technology\"\n                      margin=\"normal\"\n                      variant=\"outlined\"\n                      placeholder={\"Add Tag\"}\n                      fullWidth\n                      onChange={e =>\n                        isCreateProduct ? editNewProduct(e) : editProduct(e)\n                      }\n                    />\n                  </Box>\n                </Box>\n                <Box display={\"flex\"} alignItems={\"center\"}>\n                  <Box width={300}>\n                    <Typography variant={\"h6\"}>Rating</Typography>\n                  </Box>\n                  <Box width={500}>\n                    <Input\n                      id=\"rating\"\n                      margin=\"normal\"\n                      variant=\"outlined\"\n                      type={\"number\"}\n                      value={\n                        isCreateProduct\n                          ? newProduct.rating\n                          : localProducts.rating\n                      }\n                      fullWidth\n                      onChange={e =>\n                        isCreateProduct ? editNewProduct(e) : editProduct(e)\n                      }\n                    />\n                  </Box>\n                </Box>\n                <Box display={\"flex\"} alignItems={\"center\"}>\n                  <Button\n                    variant={\"contained\"}\n                    color={\"success\"}\n                    style={{ marginRight: 8 }}\n                    onClick={() =>\n                      isCreateProduct ? createNewProduct() : getEditProduct()\n                    }\n                  >\n                    {isCreateProduct ? \"Save\" : \"Edit\"}\n                  </Button>\n                  <Button\n                    variant={\"contained\"}\n                    onClick={() => history.push(\"/app/ecommerce/management\")}\n                  >\n                    Back\n                  </Button>\n                </Box>\n              </Box>\n            )}\n          </Widget>\n        </Grid>\n      </Grid>\n    </>\n  );\n};\n\nfunction CloseButton({ closeToast, className }) {\n  return <CloseIcon className={className} onClick={closeToast} />;\n}\n\nexport default CreateProduct;\n"]},"metadata":{},"sourceType":"module"}