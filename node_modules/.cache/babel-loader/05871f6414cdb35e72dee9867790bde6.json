{"ast":null,"code":"import _defineProperty from\"/home/dekor/eqvium/react_material_test/admin-full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"/home/dekor/eqvium/react_material_test/admin-full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/home/dekor/eqvium/react_material_test/admin-full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/dekor/eqvium/react_material_test/admin-full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/dekor/eqvium/react_material_test/admin-full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/dekor/eqvium/react_material_test/admin-full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from'react';import{Grid,Box,TextField}from'@material-ui/core';import Tabs from'@material-ui/core/Tabs';import Tab from'@material-ui/core/Tab';import{useParams}from'react-router';import Checkbox from'@material-ui/core/Checkbox';import Switch from'@material-ui/core/Switch';import{useLocation,useHistory}from'react-router-dom';import useStyles from'./styles';import{PersonOutline as PersonOutlineIcon,Lock as LockIcon,Settings as SettingsIcon}from'@material-ui/icons';import uuid from'uuid/v4';import Widget from'../../components/Widget';import{Typography,Button}from'../../components/Wrappers';import Select from'@material-ui/core/Select';import MenuItem from'@material-ui/core/MenuItem';import FormControlLabel from'@material-ui/core/FormControlLabel';import FormControl from'@material-ui/core/FormControl';import{toast}from'react-toastify';import Notification from'../../components/Notification';import{useManagementDispatch,useManagementState}from'../../context/ManagementContext';import config from'../../config';import Axios from'axios';import axios from'axios';import Cookies from'js-cookie';import{actions}from'../../context/ManagementContext';var Profile=function Profile(){//     const user_id = localStorage.getItem(\"user\");\nvar data_email=localStorage.getItem(\"email\");var data_phone=localStorage.getItem(\"phone\");axios.defaults.headers.common[\"Authorization\"]=\"\";//axios.get(\"/profiles/\"+user_id).then(res => { data_email= res.data.email; data_phone =  res.data.phone_num; console.log(data_email, data_phone) }).catch(err => console.error(err));\nvar classes=useStyles();var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),tab=_React$useState2[0],setTab=_React$useState2[1];var _React$useState3=React.useState({newPassword:'',confirmPassword:'',currentPassword:''}),_React$useState4=_slicedToArray(_React$useState3,2),password=_React$useState4[0],setPassword=_React$useState4[1];var _React$useState5=React.useState(null),_React$useState6=_slicedToArray(_React$useState5,2),data=_React$useState6[0],setData=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),editable=_React$useState8[0],setEditable=_React$useState8[1];var _useParams=useParams(),id=_useParams.id;var fileInput=React.useRef(null);var handleChangeTab=function handleChangeTab(event,newValue){setTab(newValue);};var location=useLocation();var managementDispatch=useManagementDispatch();var managementValue=useManagementState();function extractExtensionFrom(filename){if(!filename){return null;}var regex=/(?:\\.([^.]+))?$/;return regex.exec(filename)[1];}var uploadToServer=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(file,path,filename){var formData,uri,privateUrl;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:formData=new FormData();formData.append('file',file);formData.append('filename',filename);uri=\"\".concat(config.baseURLApi,\"/file/upload/\").concat(path);_context.next=6;return Axios.post(uri,formData,{headers:{'Content-Type':'multipart/form-data'}});case 6:privateUrl=\"\".concat(path,\"/\").concat(filename);return _context.abrupt(\"return\",\"\".concat(config.baseURLApi,\"/file/download?privateUrl=\").concat(privateUrl));case 8:case\"end\":return _context.stop();}}},_callee);}));return function uploadToServer(_x,_x2,_x3){return _ref.apply(this,arguments);};}();var handleFile=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var file,extension,id,filename,privateUrl,publicUrl,avatarObj;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:file=event.target.files[0];extension=extractExtensionFrom(file.name);id=uuid();filename=\"\".concat(id,\".\").concat(extension);privateUrl=\"users/avatar/\".concat(filename);_context2.next=7;return uploadToServer(file,'users/avatar',filename);case 7:publicUrl=_context2.sent;avatarObj={id:id,name:file.name,sizeInBytes:file.size,privateUrl:privateUrl,publicUrl:publicUrl,new:true};setData(_objectSpread(_objectSpread({},data),{},{avatar:[].concat(_toConsumableArray(data.avatar),[avatarObj])}));return _context2.abrupt(\"return\",null);case 11:case\"end\":return _context2.stop();}}},_callee2);}));return function handleFile(_x4){return _ref2.apply(this,arguments);};}();var history=useHistory();function sendNotification(){var componentProps={type:\"feedback\",message:\"User edited!\",variant:\"contained\",color:\"success\"};var options={type:\"info\",position:toast.POSITION.TOP_RIGHT,progressClassName:classes.progress,className:classes.notification,timeOut:1000};return toast(/*#__PURE__*/React.createElement(Notification,Object.assign({},componentProps,{className:classes.notificationComponent})),options);}useEffect(function(){if(id!=='edit'){actions.doFind(id)(managementDispatch);}else{actions.doFind(sessionStorage.getItem('user_id'))(managementDispatch);}},[]);useEffect(function(){if(location.pathname.includes('edit')){setEditable(true);}},[location.pathname]);useEffect(function(){setData(managementValue.currentUser);},[managementDispatch,managementValue,id]);var deleteOneImage=function deleteOneImage(id){setData(_objectSpread(_objectSpread({},data),{},{avatar:data.avatar.filter(function(avatar){return avatar.id!==id;})}));};function handleSubmit(){if(id==='edit'){actions.doUpdate(sessionStorage.getItem('user_id'),data,history)(managementDispatch);}else{actions.doUpdate(id,data,history)(managementDispatch);}sendNotification();}function handleSubmit2(){var user_id=localStorage.getItem(\"user\");console.log(data.email,data.phone,\"test\");axios.defaults.headers['X-CSRFTOKEN']=Cookies.get('csrftoken');axios.patch(\"/profiles/\"+user_id,{email:data.email,phone_num:data.phone}).then(function(res){console.log(res.data);localStorage.setItem(\"email\",data.email);}).catch(function(err){return console.error(err);});}function handleUpdatePassword(){actions.doChangePassword(password)(managementDispatch);}function handleChangePassword(e){setPassword(_objectSpread(_objectSpread({},password),{},_defineProperty({},e.target.name,e.target.value)));}function handleChange(e){setData(_objectSpread(_objectSpread({},data),{},_defineProperty({},e.target.name,e.target.value)));}return/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(Widget,null,/*#__PURE__*/React.createElement(Box,{display:'flex',justifyContent:'center'},/*#__PURE__*/React.createElement(Tabs,{indicatorColor:\"primary\",textColor:\"primary\",value:tab,onChange:handleChangeTab,\"aria-label\":\"full width tabs example\"},/*#__PURE__*/React.createElement(Tab,{label:\"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",icon:/*#__PURE__*/React.createElement(PersonOutlineIcon,null),classes:{wrapper:classes.icon}}),/*#__PURE__*/React.createElement(Tab,{label:\"\\u0421\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",icon:/*#__PURE__*/React.createElement(LockIcon,null),classes:{wrapper:classes.icon}}),/*#__PURE__*/React.createElement(Tab,{label:\"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438\",icon:/*#__PURE__*/React.createElement(SettingsIcon,null),classes:{wrapper:classes.icon}}))))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(Widget,null,/*#__PURE__*/React.createElement(Grid,{item:true,justify:'center',container:true},/*#__PURE__*/React.createElement(Box,{display:'flex',flexDirection:'column',width:600},tab===0?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Typography,{variant:'h5',weight:'medium',style:{marginBottom:35}},\"\\u041B\\u0438\\u0447\\u043D\\u044B\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\"),/*#__PURE__*/React.createElement(Typography,{weight:'medium'},\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440:\"),/*#__PURE__*/React.createElement(\"div\",{class:classes.galleryWrap},data&&data.avatar&&data.avatar.length!==0?data.avatar.map(function(avatar,idx){return/*#__PURE__*/React.createElement(\"div\",{className:classes.imgWrap},/*#__PURE__*/React.createElement(\"span\",{className:classes.deleteImageX,onClick:function onClick(){return deleteOneImage(avatar.id);}},\"\\xD7\"),/*#__PURE__*/React.createElement(\"img\",{src:avatar.publicUrl,alt:\"photo\",height:'100%'}));}):null),/*#__PURE__*/React.createElement(\"label\",{className:classes.uploadLabel,style:{cursor:'pointer'}},'Загрузить фото',/*#__PURE__*/React.createElement(\"input\",{style:{display:'none'},accept:\"image/*\",type:\"file\",ref:fileInput,onChange:handleFile})),/*#__PURE__*/React.createElement(Typography,{size:'sm',style:{marginBottom:35}},\".PNG, .JPG, .JPEG\"),/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",variant:\"outlined\",style:{marginBottom:35},defaultValue:data_phone,value:data&&data.phone,name:\"phone\",onChange:handleChange}),/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",variant:\"outlined\",style:{marginBottom:35},type:'email',defaultValue:data_email,value:data&&data.email,name:\"email\",onChange:handleChange})):tab===1?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Typography,{variant:'h5',weight:'medium',style:{marginBottom:35}},\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"),/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",variant:\"outlined\",style:{marginBottom:35},defaultValue:'Current Password',value:password.currentPassword||'',name:\"currentPassword\",onChange:handleChangePassword,helperText:'Забыли пароль?'}),/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",variant:\"outlined\",style:{marginBottom:35},defaultValue:'New Password',value:password.newPassword||'',name:\"newPassword\",onChange:handleChangePassword}),/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",variant:\"outlined\",style:{marginBottom:35},defaultValue:'Verify Password',value:password.confirmPassword||'',name:\"confirmPassword\",onChange:handleChangePassword})):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Typography,{variant:'h5',weight:'medium',style:{marginBottom:35}},\"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438\"),/*#__PURE__*/React.createElement(FormControl,{variant:\"outlined\",style:{marginBottom:35}},/*#__PURE__*/React.createElement(Select,{labelId:\"demo-simple-select-outlined-label\",id:\"demo-simple-select-outlined\",value:10},/*#__PURE__*/React.createElement(MenuItem,{value:10},\"\\u042F\\u0437\\u044B\\u043A - \\u0420\\u0443\\u0441\\u0441\\u043A\\u0438\\u0439\"),/*#__PURE__*/React.createElement(MenuItem,{value:20}),/*#__PURE__*/React.createElement(MenuItem,{value:30}))),/*#__PURE__*/React.createElement(Box,{display:\"flex\",mt:2,alignItems:\"center\"},/*#__PURE__*/React.createElement(Typography,{weight:\"medium\"},\"\\u0423\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u0438\\u044F \\u043F\\u043E email\"),/*#__PURE__*/React.createElement(Switch,{color:\"primary\",checked:true}))),/*#__PURE__*/React.createElement(Box,{display:'flex',justifyContent:'space-between'},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{variant:'outlined',color:'primary'},\"\\u0421\\u0431\\u0440\\u043E\\u0441\\u0438\\u0442\\u044C\"),/*#__PURE__*/React.createElement(Button,{variant:'contained',color:'success',onClick:handleSubmit2},\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"))))))));};export default Profile;","map":{"version":3,"sources":["/home/dekor/eqvium/react_material_test/admin-full/src/pages/profile/Profile.js"],"names":["React","useEffect","Grid","Box","TextField","Tabs","Tab","useParams","Checkbox","Switch","useLocation","useHistory","useStyles","PersonOutline","PersonOutlineIcon","Lock","LockIcon","Settings","SettingsIcon","uuid","Widget","Typography","Button","Select","MenuItem","FormControlLabel","FormControl","toast","Notification","useManagementDispatch","useManagementState","config","Axios","axios","Cookies","actions","Profile","data_email","localStorage","getItem","data_phone","defaults","headers","common","classes","useState","tab","setTab","newPassword","confirmPassword","currentPassword","password","setPassword","data","setData","editable","setEditable","id","fileInput","useRef","handleChangeTab","event","newValue","location","managementDispatch","managementValue","extractExtensionFrom","filename","regex","exec","uploadToServer","file","path","formData","FormData","append","uri","baseURLApi","post","privateUrl","handleFile","target","files","extension","name","publicUrl","avatarObj","sizeInBytes","size","new","avatar","history","sendNotification","componentProps","type","message","variant","color","options","position","POSITION","TOP_RIGHT","progressClassName","progress","className","notification","timeOut","notificationComponent","doFind","sessionStorage","pathname","includes","currentUser","deleteOneImage","filter","handleSubmit","doUpdate","handleSubmit2","user_id","console","log","email","phone","get","patch","phone_num","then","res","setItem","catch","err","error","handleUpdatePassword","doChangePassword","handleChangePassword","e","value","handleChange","wrapper","icon","marginBottom","galleryWrap","length","map","idx","imgWrap","deleteImageX","uploadLabel","cursor","display"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport { Grid, Box, TextField } from '@material-ui/core'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport { useParams } from 'react-router'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport Switch from '@material-ui/core/Switch'\nimport { useLocation, useHistory } from 'react-router-dom';\nimport useStyles from './styles'\n\nimport {\n    PersonOutline as PersonOutlineIcon,\n    Lock as LockIcon,\n    Settings as SettingsIcon,\n} from '@material-ui/icons'\nimport uuid from 'uuid/v4'\n\nimport Widget from '../../components/Widget'\nimport { Typography, Button } from '../../components/Wrappers'\nimport Select from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport { toast } from 'react-toastify'\n\nimport Notification from '../../components/Notification'\nimport {\n  useManagementDispatch,\n  useManagementState,\n} from '../../context/ManagementContext'\nimport config from '../../config'\nimport Axios from 'axios'\nimport axios from 'axios'\nimport Cookies from 'js-cookie';\n\nimport { actions } from '../../context/ManagementContext'\n\nconst Profile = () => {\n    \n\n//     const user_id = localStorage.getItem(\"user\");\n     let data_email = localStorage.getItem(\"email\");\n     let data_phone = localStorage.getItem(\"phone\");\n     axios.defaults.headers.common[\"Authorization\"] = \"\";\n   \n     //axios.get(\"/profiles/\"+user_id).then(res => { data_email= res.data.email; data_phone =  res.data.phone_num; console.log(data_email, data_phone) }).catch(err => console.error(err));\n    \n\n\n    const classes = useStyles()\n    const [tab, setTab] = React.useState(0)\n    const [password, setPassword] = React.useState({\n      newPassword: '',\n      confirmPassword: '',\n      currentPassword: '',\n    });\n    const [data, setData] = React.useState(null)\n    const [editable, setEditable] = React.useState(false)\n    let { id } = useParams();\n    const fileInput = React.useRef(null);\n    const handleChangeTab = (event, newValue) => {\n        setTab(newValue)\n    }\n    const location = useLocation();\n    const managementDispatch = useManagementDispatch()\n    const managementValue = useManagementState()\n\n    function extractExtensionFrom(filename) {\n      if (!filename) {\n        return null;\n      }\n    \n      const regex = /(?:\\.([^.]+))?$/;\n      return regex.exec(filename)[1];\n    }\n\n    const uploadToServer = async (file, path, filename) => {\n      const formData = new FormData();\n      formData.append('file', file);\n      formData.append('filename', filename);\n      const uri = `${config.baseURLApi}/file/upload/${path}`;\n      await Axios.post(uri, formData,\n        {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n          },\n        },\n      );\n  \n      const privateUrl = `${path}/${filename}`;\n  \n      return `${config.baseURLApi}/file/download?privateUrl=${privateUrl}`;\n    }\n\n    const handleFile = async (event) => {\n      const file = event.target.files[0];\n  \n      const extension = extractExtensionFrom(file.name);\n      const id = uuid();\n      const filename = `${id}.${extension}`;\n      const privateUrl = `users/avatar/${filename}`;\n  \n      const publicUrl = await uploadToServer(\n        file,\n        'users/avatar',\n        filename,\n      );\n      let avatarObj = {\n        id: id,\n        name: file.name,\n        sizeInBytes: file.size,\n        privateUrl,\n        publicUrl,\n        new: true\n      }\n\n      setData({\n        ...data,\n        avatar: [...data.avatar, avatarObj]\n      })\n\n      return null;\n    }\n    const history = useHistory();\n    function sendNotification() {\n      const componentProps = {\n        type: \"feedback\",\n        message: \"User edited!\",\n        variant: \"contained\",\n        color: \"success\"\n      };\n      const options = {\n        type: \"info\",\n        position: toast.POSITION.TOP_RIGHT,\n        progressClassName: classes.progress,\n        className: classes.notification,\n        timeOut: 1000\n      };\n      return toast(\n        <Notification\n          {...componentProps}\n          className={classes.notificationComponent}\n        />,\n        options\n      );\n    }\n    useEffect(() => {\n      if (id !== 'edit') {\n        actions.doFind(id)(managementDispatch)\n      } else {\n        actions.doFind(sessionStorage.getItem('user_id'))(managementDispatch)\n      }\n    }, []);\n\n    useEffect(() => {\n      \n      if (location.pathname.includes('edit')) {\n        setEditable(true);\n      }\n    }, [location.pathname]);\n\n\n    useEffect(() => {\n        setData(managementValue.currentUser)\n    }, [managementDispatch, managementValue, id])\n\n    const deleteOneImage = (id) => {\n      setData({\n        ...data,\n        avatar: data.avatar.filter(avatar => avatar.id !== id)\n      })\n    }\n\n    function handleSubmit() {\n      if (id === 'edit') {\n        actions.doUpdate(sessionStorage.getItem('user_id'), data, history)(managementDispatch)\n      } else {\n        actions.doUpdate(id, data, history)(managementDispatch)        \n      }\n      sendNotification()\n    }\n\n\n    function handleSubmit2() {\n      const user_id = localStorage.getItem(\"user\");\n      console.log(data.email, data.phone, \"test\");\n      axios.defaults.headers['X-CSRFTOKEN'] = Cookies.get('csrftoken');\n      axios.patch(\"/profiles/\"+user_id, {email:data.email, phone_num:data.phone}).then(res => { console.log(res.data); localStorage.setItem(\"email\", data.email) }).catch(err => console.error(err));\n    }\n\n\n    function handleUpdatePassword() {\n      actions.doChangePassword(password)(managementDispatch)\n    }\n\n    function handleChangePassword(e) {\n      setPassword({\n        ...password,\n        [e.target.name]: e.target.value,\n      })\n    }\n\n    function handleChange(e) {\n      setData({\n        ...data,\n        [e.target.name]: e.target.value,\n      });\n    }\n\n    return (\n        <Grid container spacing={3}>\n            <Grid item xs={12}>\n                <Widget>\n                    <Box display={'flex'} justifyContent={'center'}>\n                        <Tabs\n                            indicatorColor=\"primary\"\n                            textColor=\"primary\"\n                            value={tab}\n                            onChange={handleChangeTab}\n                            aria-label=\"full width tabs example\"\n                        >\n                            <Tab\n                                label=\"Профиль\"\n                                icon={<PersonOutlineIcon />}\n                                classes={{ wrapper: classes.icon }}\n                            />\n                            <Tab\n                                label=\"Сменить пароль\"\n                                icon={<LockIcon />}\n                                classes={{ wrapper: classes.icon }}\n                            />\n                            <Tab\n                                label=\"Настройки\"\n                                icon={<SettingsIcon />}\n                                classes={{ wrapper: classes.icon }}\n                            />\n                        </Tabs>\n                    </Box>\n                </Widget>\n            </Grid>\n            <Grid item xs={12}>\n                <Widget>\n                    <Grid item justify={'center'} container>\n                        <Box\n                            display={'flex'}\n                            flexDirection={'column'}\n                            width={600}\n                        >\n                            { tab === 0 ? (\n                                <>\n                                    <Typography\n                                        variant={'h5'}\n                                        weight={'medium'}\n                                        style={{ marginBottom: 35 }}\n                                    >\n                                        Личные данные\n                                    </Typography>\n                                    <Typography weight={'medium'}>\n                                        Аватар:\n                                    </Typography>\n                                    <div class={classes.galleryWrap}>\n                                    {data && data.avatar && data.avatar.length !== 0 ? (\n                                      data.avatar.map((avatar, idx) => (\n                                        <div className={classes.imgWrap}>\n                                          <span className={classes.deleteImageX} onClick={() => deleteOneImage(avatar.id)}>×</span>\n                                          <img\n                                              src={avatar.publicUrl}\n                                              alt=\"photo\"\n                                              height={'100%'}\n                                          />                                          \n                                        </div>\n                                      ))\n                                    ): null}\n                                    </div>\n                                    <label\n                                      className={classes.uploadLabel}\n                                      style={{ cursor: 'pointer' }}\n                                    >\n                                      {'Загрузить фото'}\n                                        <input style={{ display: 'none' }} accept=\"image/*\" type=\"file\" ref={fileInput} onChange={handleFile} />\n                                    </label>\n\n                                    <Typography\n                                        size={'sm'}\n                                        style={{ marginBottom: 35 }}\n                                    >\n                                        .PNG, .JPG, .JPEG\n                                    </Typography>\n                                    <TextField\n                                        id=\"outlined-basic\"\n                                        variant=\"outlined\"\n                                        style={{ marginBottom: 35 }}\n                                        defaultValue={data_phone}\n                                        value={data && data.phone}\n                                        name=\"phone\"\n                                        onChange={handleChange}\n                                    />\n                                    <TextField\n                                        id=\"outlined-basic\"\n                                        variant=\"outlined\"\n                                        style={{ marginBottom: 35 }}\n                                        type={'email'}\n                                        defaultValue={data_email}\n                                        value={data && data.email}\n                                        name=\"email\"\n                                        onChange={handleChange}\n                                    />\n                                </>\n                            ) : tab === 1 ? (\n                                <>\n                                    <Typography\n                                        variant={'h5'}\n                                        weight={'medium'}\n                                        style={{ marginBottom: 35 }}\n                                    >\n                                        Пароль\n                                    </Typography>\n                                    <TextField\n                                        id=\"outlined-basic\"\n                                        variant=\"outlined\"\n                                        style={{ marginBottom: 35 }}\n                                        defaultValue={'Current Password'}\n                                        value={password.currentPassword || ''}\n                                        name=\"currentPassword\"\n                                        onChange={handleChangePassword}\n                                        helperText={'Забыли пароль?'}\n                                    />\n                                    <TextField\n                                        id=\"outlined-basic\"\n                                        variant=\"outlined\"\n                                        style={{ marginBottom: 35 }}\n                                        defaultValue={'New Password'}\n                                        value={password.newPassword || ''}\n                                        name=\"newPassword\"\n                                        onChange={handleChangePassword}\n                                    />\n                                    <TextField\n                                        id=\"outlined-basic\"\n                                        variant=\"outlined\"\n                                        style={{ marginBottom: 35 }}\n                                        defaultValue={'Verify Password'}\n                                        value={password.confirmPassword || ''}\n                                        name=\"confirmPassword\"\n                                        onChange={handleChangePassword}\n                                    />\n                                </>\n                            ) : (\n                                <>\n                                    <Typography\n                                        variant={'h5'}\n                                        weight={'medium'}\n                                        style={{ marginBottom: 35 }}\n                                    >\n                                        Настройки\n                                    </Typography>\n                                    <FormControl\n                                        variant=\"outlined\"\n                                        style={{ marginBottom: 35 }}\n                                    >\n                                        <Select\n                                            labelId=\"demo-simple-select-outlined-label\"\n                                            id=\"demo-simple-select-outlined\"\n                                            value={10}\n                                        >\n                                            <MenuItem value={10}>\n                                                Язык - Русский\n                                            </MenuItem>\n                                            <MenuItem value={20}>\n                                            </MenuItem>\n                                            <MenuItem value={30}>\n                                            </MenuItem>\n                                        </Select>\n                                    </FormControl>\n                                    <Box display={\"flex\"} mt={2} alignItems={\"center\"}>\n                                        <Typography weight={\"medium\"}>\n                                            Уведомления по email\n                                        </Typography>\n                                        <Switch color={\"primary\"} checked />\n                                    </Box>\n                                </>\n                            )}\n                              <Box\n                                  display={'flex'}\n                                  justifyContent={'space-between'}\n                              >\n                                  <>\n                                  <Button variant={'outlined'} color={'primary'}>\n                                      Сбросить\n                                  </Button>\n                                  <Button variant={'contained'} color={'success'} onClick={handleSubmit2}>\n                                      Сохранить\n                                  </Button>\n                                  </>                                \n\n                              </Box>                              \n                             \n                        </Box>\n                    </Grid>\n                </Widget>\n            </Grid>\n        </Grid>\n    )\n}\n\nexport default Profile\n"]},"metadata":{},"sourceType":"module"}