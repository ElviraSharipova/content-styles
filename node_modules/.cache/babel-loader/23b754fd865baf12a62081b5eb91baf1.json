{"ast":null,"code":"import _defineProperty from\"/home/dekor/eqvium/react_material_test/admin-full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/home/dekor/eqvium/react_material_test/admin-full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{ArrowBack as ArrowBackIcon}from\"@material-ui/icons\";import{Drawer,IconButton,List}from\"@material-ui/core\";import{useTheme}from\"@material-ui/styles\";import{withRouter}from\"react-router-dom\";import classNames from\"classnames\";// styles\nimport useStyles from\"./styles\";// components\nimport SidebarLink from\"./components/SidebarLink/SidebarLink\";// context\nimport{useLayoutState,useLayoutDispatch,toggleSidebar}from\"../../context/LayoutContext\";function Sidebar(_ref){var _classNames,_classNames2;var location=_ref.location,structure=_ref.structure;var classes=useStyles();var theme=useTheme();var toggleDrawer=function toggleDrawer(value){return function(event){if(event.type===\"keydown\"&&(event.key===\"Tab\"||event.key===\"Shift\")){return;}if(value&&!isPermanent)toggleSidebar(layoutDispatch);};};// global\nvar _useLayoutState=useLayoutState(),isSidebarOpened=_useLayoutState.isSidebarOpened;var layoutDispatch=useLayoutDispatch();// local\nvar _useState=useState(true),_useState2=_slicedToArray(_useState,2),isPermanent=_useState2[0],setPermanent=_useState2[1];useEffect(function(){window.addEventListener(\"resize\",handleWindowWidthChange);handleWindowWidthChange();return function cleanup(){window.removeEventListener(\"resize\",handleWindowWidthChange);};});return/*#__PURE__*/React.createElement(Drawer,{variant:isPermanent?\"permanent\":\"temporary\",className:classNames(classes.drawer,(_classNames={},_defineProperty(_classNames,classes.drawerOpen,!isPermanent?!isSidebarOpened:isSidebarOpened),_defineProperty(_classNames,classes.drawerClose,!isPermanent?isSidebarOpened:!isSidebarOpened),_classNames)),classes:{paper:classNames((_classNames2={},_defineProperty(_classNames2,classes.drawerOpen,!isPermanent?!isSidebarOpened:isSidebarOpened),_defineProperty(_classNames2,classes.drawerClose,!isPermanent?isSidebarOpened:!isSidebarOpened),_classNames2))},open:!isPermanent?!isSidebarOpened:isSidebarOpened,onClose:toggleDrawer(true)},/*#__PURE__*/React.createElement(\"div\",{className:classes.toolbar}),/*#__PURE__*/React.createElement(\"div\",{className:classes.mobileBackButton},/*#__PURE__*/React.createElement(IconButton,{onClick:function onClick(){return toggleSidebar(layoutDispatch);}},/*#__PURE__*/React.createElement(ArrowBackIcon,{classes:{root:classNames(classes.headerIcon,classes.headerIconCollapse)}}))),/*#__PURE__*/React.createElement(List,{className:classes.sidebarList,classes:{padding:classes.padding}},structure.map(function(link){return/*#__PURE__*/React.createElement(SidebarLink,Object.assign({key:link.id,location:location,isSidebarOpened:!isPermanent?!isSidebarOpened:isSidebarOpened},link,{toggleDrawer:toggleDrawer(true)}));})));// ##################################################################\nfunction handleWindowWidthChange(){var windowWidth=window.innerWidth;var breakpointWidth=theme.breakpoints.values.md;var isSmallScreen=windowWidth<breakpointWidth;if(isSmallScreen&&isPermanent){setPermanent(false);}else if(!isSmallScreen&&!isPermanent){setPermanent(true);}}}export default withRouter(Sidebar);","map":{"version":3,"sources":["/home/dekor/eqvium/react_material_test/admin-full/src/components/Sidebar/Sidebar.js"],"names":["React","useState","useEffect","ArrowBack","ArrowBackIcon","Drawer","IconButton","List","useTheme","withRouter","classNames","useStyles","SidebarLink","useLayoutState","useLayoutDispatch","toggleSidebar","Sidebar","location","structure","classes","theme","toggleDrawer","value","event","type","key","isPermanent","layoutDispatch","isSidebarOpened","setPermanent","window","addEventListener","handleWindowWidthChange","cleanup","removeEventListener","drawer","drawerOpen","drawerClose","paper","toolbar","mobileBackButton","root","headerIcon","headerIconCollapse","sidebarList","padding","map","link","id","windowWidth","innerWidth","breakpointWidth","breakpoints","values","md","isSmallScreen"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { ArrowBack as ArrowBackIcon } from \"@material-ui/icons\";\nimport { Drawer, IconButton, List } from \"@material-ui/core\";\nimport { useTheme } from \"@material-ui/styles\";\nimport { withRouter } from \"react-router-dom\";\nimport classNames from \"classnames\";\n\n// styles\nimport useStyles from \"./styles\";\n\n// components\nimport SidebarLink from \"./components/SidebarLink/SidebarLink\";\n\n// context\nimport {\n  useLayoutState,\n  useLayoutDispatch,\n  toggleSidebar\n} from \"../../context/LayoutContext\";\n\nfunction Sidebar({ location, structure }) {\n  var classes = useStyles();\n  var theme = useTheme();\n\n  const toggleDrawer = value => event => {\n    if (\n      event.type === \"keydown\" &&\n      (event.key === \"Tab\" || event.key === \"Shift\")\n    ) {\n      return;\n    }\n\n    if (value && !isPermanent) toggleSidebar(layoutDispatch);\n  };\n\n  // global\n  var { isSidebarOpened } = useLayoutState();\n  var layoutDispatch = useLayoutDispatch();\n\n  // local\n  var [isPermanent, setPermanent] = useState(true);\n\n  useEffect(function() {\n    window.addEventListener(\"resize\", handleWindowWidthChange);\n    handleWindowWidthChange();\n    return function cleanup() {\n      window.removeEventListener(\"resize\", handleWindowWidthChange);\n    };\n  });\n\n  return (\n    <Drawer\n      variant={isPermanent ? \"permanent\" : \"temporary\"}\n      className={classNames(classes.drawer, {\n        [classes.drawerOpen]: !isPermanent ? !isSidebarOpened : isSidebarOpened,\n        [classes.drawerClose]: !isPermanent ? isSidebarOpened : !isSidebarOpened\n      })}\n      classes={{\n        paper: classNames({\n          [classes.drawerOpen]: !isPermanent\n            ? !isSidebarOpened\n            : isSidebarOpened,\n          [classes.drawerClose]: !isPermanent\n            ? isSidebarOpened\n            : !isSidebarOpened\n        })\n      }}\n      open={!isPermanent ? !isSidebarOpened : isSidebarOpened}\n      onClose={toggleDrawer(true)}\n    >\n      <div className={classes.toolbar} />\n      <div className={classes.mobileBackButton}>\n        <IconButton onClick={() => toggleSidebar(layoutDispatch)}>\n          <ArrowBackIcon\n            classes={{\n              root: classNames(classes.headerIcon, classes.headerIconCollapse)\n            }}\n          />\n        </IconButton>\n      </div>\n      <List\n        className={classes.sidebarList}\n        classes={{ padding: classes.padding }}\n      >\n        {structure.map(link => (\n          <SidebarLink\n            key={link.id}\n            location={location}\n            isSidebarOpened={!isPermanent ? !isSidebarOpened : isSidebarOpened}\n            {...link}\n            toggleDrawer={toggleDrawer(true)}\n          />\n        ))}\n      </List>\n    </Drawer>\n  );\n\n  // ##################################################################\n  function handleWindowWidthChange() {\n    var windowWidth = window.innerWidth;\n    var breakpointWidth = theme.breakpoints.values.md;\n    var isSmallScreen = windowWidth < breakpointWidth;\n\n    if (isSmallScreen && isPermanent) {\n      setPermanent(false);\n    } else if (!isSmallScreen && !isPermanent) {\n      setPermanent(true);\n    }\n  }\n}\n\nexport default withRouter(Sidebar);\n"]},"metadata":{},"sourceType":"module"}