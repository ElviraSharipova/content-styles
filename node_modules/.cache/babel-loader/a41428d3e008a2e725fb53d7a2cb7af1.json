{"ast":null,"code":"import _toConsumableArray from\"/home/dekor/eqvium/react_material_test/admin-full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/home/dekor/eqvium/react_material_test/admin-full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/dekor/eqvium/react_material_test/admin-full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/dekor/eqvium/react_material_test/admin-full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/dekor/eqvium/react_material_test/admin-full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/dekor/eqvium/react_material_test/admin-full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import Stepper from'@material-ui/core/Stepper';import Step from'@material-ui/core/Step';import StepLabel from'@material-ui/core/StepLabel';import Grid from'@material-ui/core/Grid';import Box from'@material-ui/core/Box';import TextField from'@material-ui/core/TextField';import FormControl from'@material-ui/core/FormControl';import InputLabel from'@material-ui/core/InputLabel';import Select from'@material-ui/core/Select';import MenuItem from'@material-ui/core/MenuItem';import FormHelperText from'@material-ui/core/FormHelperText';import{useHistory}from'react-router-dom';import useStyles from'./styles';import{toast}from'react-toastify';import Axios from'axios';import config from'../../config';import uuid from'uuid/v4';import Notification from\"../../components/Notification\";import{Button,Typography}from'../../components/Wrappers';import Widget from'../../components/Widget';import{actions}from'../../context/ManagementContext';import{useManagementDispatch}from'../../context/ManagementContext';function getSteps(){return['Create Account','User Details','Business Details','Social'];}function getStepContent(step){switch(step){case 0:return'Create New Account';case 1:return'Create User Details';case 2:return'Business Details';case 3:return'Social';default:return'';}}var AddUser=function AddUser(){var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),activeStep=_React$useState2[0],setActiveStep=_React$useState2[1];var _React$useState3=React.useState(new Set()),_React$useState4=_slicedToArray(_React$useState3,2),skipped=_React$useState4[0],setSkipped=_React$useState4[1];var _React$useState5=React.useState({avatars:[],disabled:null,email:'',emailVerificationToken:null,emailVerificationTokenExpiresAt:null,emailVerified:true,firstName:'',fullName:'',lastName:'',password:null,passwordResetToken:null,passwordResetTokenExpiresAt:null,phoneNumber:'',role:'user'}),_React$useState6=_slicedToArray(_React$useState5,2),newUser=_React$useState6[0],setNewUser=_React$useState6[1];function handleChange(e){setNewUser(_objectSpread(_objectSpread({},newUser),{},_defineProperty({},e.target.name,e.target.value)));}var fileInput=React.useRef(null);var steps=getSteps();var classes=useStyles();function extractExtensionFrom(filename){if(!filename){return null;}var regex=/(?:\\.([^.]+))?$/;return regex.exec(filename)[1];}var uploadToServer=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(file,path,filename){var formData,uri,privateUrl;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:formData=new FormData();formData.append('file',file);formData.append('filename',filename);uri=\"\".concat(config.baseURLApi,\"/file/upload/\").concat(path);_context.next=6;return Axios.post(uri,formData,{headers:{'Content-Type':'multipart/form-data'}});case 6:privateUrl=\"\".concat(path,\"/\").concat(filename);return _context.abrupt(\"return\",\"\".concat(config.baseURLApi,\"/file/download?privateUrl=\").concat(privateUrl));case 8:case\"end\":return _context.stop();}}},_callee);}));return function uploadToServer(_x,_x2,_x3){return _ref.apply(this,arguments);};}();var handleFile=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var file,extension,id,filename,privateUrl,publicUrl,avatarObj;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:file=event.target.files[0];extension=extractExtensionFrom(file.name);id=uuid();filename=\"\".concat(id,\".\").concat(extension);privateUrl=\"users/avatar/\".concat(filename);_context2.next=7;return uploadToServer(file,'users/avatar',filename);case 7:publicUrl=_context2.sent;avatarObj={id:id,name:file.name,sizeInBytes:file.size,privateUrl:privateUrl,publicUrl:publicUrl,new:true};setNewUser(_objectSpread(_objectSpread({},newUser),{},{avatars:[].concat(_toConsumableArray(newUser.avatars),[avatarObj])}));return _context2.abrupt(\"return\");case 11:case\"end\":return _context2.stop();}}},_callee2);}));return function handleFile(_x4){return _ref2.apply(this,arguments);};}();var isStepSkipped=function isStepSkipped(step){return skipped.has(step);};var managementDispatch=useManagementDispatch();var history=useHistory();var doSubmit=function doSubmit(id,data){actions.doCreate(data,history)(managementDispatch);};var handleNext=function handleNext(){var newSkipped=skipped;if(isStepSkipped(activeStep)){newSkipped=new Set(newSkipped.values());newSkipped.delete(activeStep);}setActiveStep(function(prevActiveStep){return prevActiveStep+1;});setSkipped(newSkipped);if(activeStep===3){doSubmit(null,newUser,history);sendNotification();}};var handleBack=function handleBack(){setActiveStep(function(prevActiveStep){return prevActiveStep-1;});};var deleteOneImage=function deleteOneImage(id){setNewUser(_objectSpread(_objectSpread({},newUser),{},{avatars:newUser.avatars.filter(function(avatar){return avatar.id!==id;})}));};function sendNotification(){var componentProps={type:\"feedback\",message:\"User added!\",variant:\"contained\",color:\"success\"};var options={type:\"info\",position:toast.POSITION.TOP_RIGHT,progressClassName:classes.progress,className:classes.notification,timeOut:1000};return toast(/*#__PURE__*/React.createElement(Notification,Object.assign({},componentProps,{className:classes.notificationComponent})),options);}return/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(Widget,null,/*#__PURE__*/React.createElement(Stepper,{activeStep:activeStep},steps.map(function(label,index){var stepProps={};var labelProps={};if(isStepSkipped(index)){stepProps.completed=false;}return/*#__PURE__*/React.createElement(Step,Object.assign({key:label},stepProps),/*#__PURE__*/React.createElement(StepLabel,Object.assign({},labelProps,{classes:{completed:classes.stepCompleted}}),label));})))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(Widget,null,/*#__PURE__*/React.createElement(Grid,{item:true,justify:'center',container:true},/*#__PURE__*/React.createElement(Box,{display:'flex',flexDirection:'column',width:600},/*#__PURE__*/React.createElement(Typography,{variant:'h5',weight:'medium',style:{marginBottom:30}},getStepContent(activeStep)),activeStep===0?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",label:\"Username\",onChange:handleChange,name:\"fullName\",value:newUser.fullName||'',variant:\"outlined\",style:{marginBottom:35},helperText:\"Please enter your username\"}),/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",label:\"Email Address\",onChange:handleChange,value:newUser.email||'',name:\"email\",variant:\"outlined\",style:{marginBottom:35},helperText:'We’ll never share your email with anyone else',type:'email'}),/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",label:\"Password\",onChange:handleChange,name:\"password\",value:newUser.password||'',variant:\"outlined\",style:{marginBottom:35},helperText:'Enter your password. Min 6 characters long',type:'password'}),/*#__PURE__*/React.createElement(FormControl,{variant:\"outlined\",onChange:handleChange,style:{marginBottom:35}},/*#__PURE__*/React.createElement(InputLabel,{id:\"demo-simple-select-outlined-label\"},\"Role\"),/*#__PURE__*/React.createElement(Select,{labelId:\"demo-simple-select-outlined-label\",id:\"demo-simple-select-outlined\",value:newUser.role||\"user\",defaultValue:\"User\",name:\"role\",onChange:handleChange,label:\"Role\"},/*#__PURE__*/React.createElement(MenuItem,{value:\"user\"},\"User\"),/*#__PURE__*/React.createElement(MenuItem,{value:\"admin\"},\"Admin\")),/*#__PURE__*/React.createElement(FormHelperText,{id:'demo-simple-select-outlined'},\"Please choose the role\"))):activeStep===1?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Typography,{weight:'medium'},\"Photo:\"),/*#__PURE__*/React.createElement(\"div\",{class:classes.galleryWrap},newUser&&newUser.avatars&&newUser.avatars.length!==0?newUser.avatars.map(function(avatar,idx){return/*#__PURE__*/React.createElement(\"div\",{className:classes.imgWrap},/*#__PURE__*/React.createElement(\"span\",{className:classes.deleteImageX,onClick:function onClick(){return deleteOneImage(avatar.id);}},\"\\xD7\"),/*#__PURE__*/React.createElement(\"img\",{src:avatar.publicUrl,alt:\"photo\",height:'100%'}));}):null),/*#__PURE__*/React.createElement(\"label\",{className:classes.uploadLabel,style:{cursor:'pointer'}},'Upload an image',/*#__PURE__*/React.createElement(\"input\",{style:{display:'none'},accept:\"image/*\",type:\"file\",ref:fileInput,onChange:handleFile})),/*#__PURE__*/React.createElement(Typography,{size:'sm',style:{marginBottom:35}},\".PNG, .JPG, .JPEG\"),/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",label:\"First Name\",onChange:handleChange,name:\"firstName\",value:newUser.firstName||'',variant:\"outlined\",style:{marginBottom:35},helperText:\"Enter your first name\"}),/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",label:\"Last Name\",onChange:handleChange,name:\"lastName\",value:newUser.lastName||'',variant:\"outlined\",style:{marginBottom:35},helperText:'Enter your last name'}),/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",label:\"Contact number\",onChange:handleChange,value:newUser.phoneNumber||'',name:\"phoneNumber\",variant:\"outlined\",style:{marginBottom:35},helperText:'Enter your contact number '}),/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",label:\"Email\",variant:\"outlined\",value:newUser.email||'',style:{marginBottom:35},helperText:'Enter your email',type:'email'}),/*#__PURE__*/React.createElement(FormControl,{variant:\"outlined\",style:{marginBottom:35}},/*#__PURE__*/React.createElement(InputLabel,{id:\"demo-simple-select-outlined-label\"},\"Country\"),/*#__PURE__*/React.createElement(Select,{labelId:\"demo-simple-select-outlined-label\",id:\"demo-simple-select-outlined\",value:newUser.role||\"user\",defaultValue:\"User\",name:\"role\",onChange:handleChange,label:\"Role\"},/*#__PURE__*/React.createElement(MenuItem,{value:\"user\"},\"User\"),/*#__PURE__*/React.createElement(MenuItem,{value:\"admin\"},\"Admin\")),/*#__PURE__*/React.createElement(FormHelperText,{id:'demo-simple-select-outlined'},\"Choose your role\")),/*#__PURE__*/React.createElement(FormControl,{variant:\"outlined\",style:{marginBottom:35}},/*#__PURE__*/React.createElement(InputLabel,{id:\"demo-simple-select-outlined-label\"},\"State\"),/*#__PURE__*/React.createElement(Select,{labelId:\"demo-simple-select-outlined-label\",id:\"demo-simple-select-outlined\",value:'',label:\"State\"},/*#__PURE__*/React.createElement(MenuItem,{value:10},\"User\"),/*#__PURE__*/React.createElement(MenuItem,{value:20},\"Admin\"),/*#__PURE__*/React.createElement(MenuItem,{value:30},\"Super Admin\")),/*#__PURE__*/React.createElement(FormHelperText,{id:'demo-simple-select-outlined'},\"Choose your state\")),/*#__PURE__*/React.createElement(FormControl,{variant:\"outlined\",style:{marginBottom:35}},/*#__PURE__*/React.createElement(InputLabel,{id:\"demo-simple-select-outlined-label\"},\"City\"),/*#__PURE__*/React.createElement(Select,{labelId:\"demo-simple-select-outlined-label\",id:\"demo-simple-select-outlined\",value:'',label:\"City\"},/*#__PURE__*/React.createElement(MenuItem,{value:10},\"User\"),/*#__PURE__*/React.createElement(MenuItem,{value:20},\"Admin\"),/*#__PURE__*/React.createElement(MenuItem,{value:30},\"Super Admin\")),/*#__PURE__*/React.createElement(FormHelperText,{id:'demo-simple-select-outlined'},\"Choose your city\")),/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",label:\"Address\",variant:\"outlined\",onChange:handleChange,style:{marginBottom:35},helperText:'Enter your adress'})):activeStep===2?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",label:\"Company Name\",variant:\"outlined\",onChange:handleChange,style:{marginBottom:35},helperText:\"Enter your company name\"}),/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",label:\"Company Registered ID\",variant:\"outlined\",onChange:handleChange,style:{marginBottom:35},helperText:'Enter your company registered ID'}),/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",label:\"Cmpany Email\",onChange:handleChange,variant:\"outlined\",style:{marginBottom:35},helperText:'Enter your company email'}),/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",value:'',label:\"Company Contact\",onChange:handleChange,variant:\"outlined\",style:{marginBottom:35},helperText:'Enter your company cpntact'})):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",label:\"Facebook\",variant:\"outlined\",onChange:handleChange,style:{marginBottom:35},helperText:\"Enter your Facebook link\"}),/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",label:\"Twitter\",variant:\"outlined\",onChange:handleChange,style:{marginBottom:35},helperText:'Enter your Twitter link'}),/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",label:\"Instagram\",variant:\"outlined\",onChange:handleChange,style:{marginBottom:35},helperText:'Enter your Instagram link'}),/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",label:\"GitHub\",variant:\"outlined\",onChange:handleChange,style:{marginBottom:35},helperText:'Enter your GitHub link'}),/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",label:\"CodePen\",variant:\"outlined\",onChange:handleChange,style:{marginBottom:35},helperText:'Enter your CodePen link'}),/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",label:\"Slack\",variant:\"outlined\",style:{marginBottom:35},helperText:'Enter your Slack link'})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,activeStep===0?/*#__PURE__*/React.createElement(Box,{display:'flex',justifyContent:'flex-end'},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:handleNext},\"Next\")):/*#__PURE__*/React.createElement(Box,{display:'flex',justifyContent:'space-between'},/*#__PURE__*/React.createElement(Button,{onClick:handleBack,variant:'outlined',color:'primary'},\"Back\"),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:handleNext},activeStep===steps.length-1?'Finish':'Next')))))))));};export default AddUser;","map":{"version":3,"sources":["/home/dekor/eqvium/react_material_test/admin-full/src/pages/user/AddUser.js"],"names":["React","Stepper","Step","StepLabel","Grid","Box","TextField","FormControl","InputLabel","Select","MenuItem","FormHelperText","useHistory","useStyles","toast","Axios","config","uuid","Notification","Button","Typography","Widget","actions","useManagementDispatch","getSteps","getStepContent","step","AddUser","useState","activeStep","setActiveStep","Set","skipped","setSkipped","avatars","disabled","email","emailVerificationToken","emailVerificationTokenExpiresAt","emailVerified","firstName","fullName","lastName","password","passwordResetToken","passwordResetTokenExpiresAt","phoneNumber","role","newUser","setNewUser","handleChange","e","target","name","value","fileInput","useRef","steps","classes","extractExtensionFrom","filename","regex","exec","uploadToServer","file","path","formData","FormData","append","uri","baseURLApi","post","headers","privateUrl","handleFile","event","files","extension","id","publicUrl","avatarObj","sizeInBytes","size","new","isStepSkipped","has","managementDispatch","history","doSubmit","data","doCreate","handleNext","newSkipped","values","delete","prevActiveStep","sendNotification","handleBack","deleteOneImage","filter","avatar","componentProps","type","message","variant","color","options","position","POSITION","TOP_RIGHT","progressClassName","progress","className","notification","timeOut","notificationComponent","map","label","index","stepProps","labelProps","completed","stepCompleted","marginBottom","galleryWrap","length","idx","imgWrap","deleteImageX","uploadLabel","cursor","display"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Stepper from '@material-ui/core/Stepper'\nimport Step from '@material-ui/core/Step'\nimport StepLabel from '@material-ui/core/StepLabel'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport TextField from '@material-ui/core/TextField'\nimport FormControl from '@material-ui/core/FormControl'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport Select from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport { useHistory } from 'react-router-dom'\nimport useStyles from './styles'\nimport { toast } from 'react-toastify'\nimport Axios from 'axios'\nimport config from '../../config'\nimport uuid from 'uuid/v4'\n\nimport Notification from \"../../components/Notification\";\n\nimport { Button, Typography } from '../../components/Wrappers'\nimport Widget from '../../components/Widget'\n\nimport { actions } from '../../context/ManagementContext'\nimport {\n  useManagementDispatch,\n} from '../../context/ManagementContext'\n\n\nfunction getSteps() {\n    return ['Create Account', 'User Details', 'Business Details', 'Social']\n}\n\nfunction getStepContent(step) {\n    switch (step) {\n        case 0:\n            return 'Create New Account'\n        case 1:\n            return 'Create User Details'\n        case 2:\n            return 'Business Details'\n        case 3:\n            return 'Social'\n        default:\n            return ''\n    }\n}\n\nconst AddUser = () => {\n    const [activeStep, setActiveStep] = React.useState(0)\n    const [skipped, setSkipped] = React.useState(new Set())\n    const [newUser, setNewUser] = React.useState({\n      avatars: [],\n      disabled: null,\n      email: '',\n      emailVerificationToken: null,\n      emailVerificationTokenExpiresAt: null,\n      emailVerified: true,\n      firstName: '',\n      fullName: '',\n      lastName: '',\n      password: null,\n      passwordResetToken: null,\n      passwordResetTokenExpiresAt: null,\n      phoneNumber: '',\n      role: 'user',\n    });\n    function handleChange(e) {\n      setNewUser({\n        ...newUser,\n        [e.target.name]: e.target.value,\n      });\n    }\n    const fileInput = React.useRef(null);\n    const steps = getSteps()\n    const classes = useStyles()\n\n    function extractExtensionFrom(filename) {\n      if (!filename) {\n        return null;\n      }\n    \n      const regex = /(?:\\.([^.]+))?$/;\n      return regex.exec(filename)[1];\n    }\n\n    const uploadToServer = async (file, path, filename) => {\n      const formData = new FormData();\n      formData.append('file', file);\n      formData.append('filename', filename);\n      const uri = `${config.baseURLApi}/file/upload/${path}`;\n      await Axios.post(uri, formData,\n        {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n          },\n        },\n      );\n  \n      const privateUrl = `${path}/${filename}`;\n  \n      return `${config.baseURLApi}/file/download?privateUrl=${privateUrl}`;\n    }\n\n    const handleFile = async (event) => {\n      const file = event.target.files[0];\n  \n      const extension = extractExtensionFrom(file.name);\n      const id = uuid();\n      const filename = `${id}.${extension}`;\n      const privateUrl = `users/avatar/${filename}`;\n  \n      const publicUrl = await uploadToServer(\n        file,\n        'users/avatar',\n        filename,\n      );\n      let avatarObj = {\n        id: id,\n        name: file.name,\n        sizeInBytes: file.size,\n        privateUrl,\n        publicUrl,\n        new: true      \n      }\n\n      setNewUser({\n          ...newUser,\n          avatars: [...newUser.avatars, avatarObj]\n      })\n\n      return ;\n    }\n    const isStepSkipped = step => {\n        return skipped.has(step)\n    }\n\n    var managementDispatch = useManagementDispatch()\n    const history = useHistory()\n    const doSubmit = (id, data) => {\n        actions.doCreate(data, history)(managementDispatch);\n      \n    };\n\n    const handleNext = () => {\n        let newSkipped = skipped\n        if (isStepSkipped(activeStep)) {\n            newSkipped = new Set(newSkipped.values())\n            newSkipped.delete(activeStep)\n        }\n\n        setActiveStep(prevActiveStep => prevActiveStep + 1)\n        setSkipped(newSkipped)\n\n        if (activeStep === 3) {\n          doSubmit(null, newUser, history)\n          sendNotification()\n        }\n    }\n\n    const handleBack = () => {\n        setActiveStep(prevActiveStep => prevActiveStep - 1)\n    }\n\n    const deleteOneImage = (id) => {\n      setNewUser({\n        ...newUser,\n        avatars: newUser.avatars.filter(avatar => avatar.id !== id)\n      })\n    }\n\n    function sendNotification() {\n      const componentProps = {\n        type: \"feedback\",\n        message: \"User added!\",\n        variant: \"contained\",\n        color: \"success\"\n      };\n      const options = {\n        type: \"info\",\n        position: toast.POSITION.TOP_RIGHT,\n        progressClassName: classes.progress,\n        className: classes.notification,\n        timeOut: 1000\n      };\n      return toast(\n        <Notification\n          {...componentProps}\n          className={classes.notificationComponent}\n        />,\n        options\n      );\n    }\n    return (\n        <Grid container spacing={3}>\n            <Grid item xs={12}>\n                <Widget>\n                    <Stepper activeStep={activeStep}>\n                        {steps.map((label, index) => {\n                            const stepProps = {}\n                            const labelProps = {}\n                            if (isStepSkipped(index)) {\n                                stepProps.completed = false\n                            }\n                            return (\n                                <Step key={label} {...stepProps}>\n                                    <StepLabel {...labelProps} classes={{completed: classes.stepCompleted}}>\n                                        {label}\n                                    </StepLabel>\n                                </Step>\n                            )\n                        })}\n                    </Stepper>\n                </Widget>\n            </Grid>\n            <Grid item xs={12}>\n                <Widget>\n                    <Grid item justify={'center'} container>\n                        <Box\n                            display={'flex'}\n                            flexDirection={'column'}\n                            width={600}\n                        >\n                            <Typography\n                                variant={'h5'}\n                                weight={'medium'}\n                                style={{ marginBottom: 30 }}\n                            >\n                                {getStepContent(activeStep)}\n                            </Typography>\n                            {activeStep === 0 ? (\n                                <>\n                                    <TextField\n                                        id=\"outlined-basic\"\n                                        label=\"Username\"\n                                        onChange={handleChange}\n                                        name=\"fullName\"\n                                        value={newUser.fullName || ''}\n                                        variant=\"outlined\"\n                                        style={{ marginBottom: 35 }}\n                                        helperText=\"Please enter your username\"\n                                    />\n                                    <TextField\n                                        id=\"outlined-basic\"\n                                        label=\"Email Address\"\n                                        onChange={handleChange}\n                                        value={newUser.email || ''}\n                                        name=\"email\"\n                                        variant=\"outlined\"\n                                        style={{ marginBottom: 35 }}\n                                        helperText={\n                                            'We’ll never share your email with anyone else'\n                                        }\n                                        type={'email'}\n                                    />\n                                    <TextField\n                                        id=\"outlined-basic\"\n                                        label=\"Password\"\n                                        onChange={handleChange}\n                                        name=\"password\"\n                                        value={newUser.password || ''}\n                                        variant=\"outlined\"\n                                        style={{ marginBottom: 35 }}\n                                        helperText={\n                                            'Enter your password. Min 6 characters long'\n                                        }\n                                        type={'password'}\n                                    />\n                                    <FormControl\n                                        variant=\"outlined\"\n                                        onChange={handleChange}\n                                        style={{ marginBottom: 35 }}\n                                    >\n                                        <InputLabel id=\"demo-simple-select-outlined-label\">\n                                            Role\n                                        </InputLabel>\n                                        <Select\n                                            labelId=\"demo-simple-select-outlined-label\"\n                                            id=\"demo-simple-select-outlined\"\n                                            value={newUser.role || \"user\"}\n                                            defaultValue=\"User\"\n                                            name=\"role\"\n                                            onChange={handleChange}\n                                            label=\"Role\"\n                                        >\n                                            <MenuItem value=\"user\">User</MenuItem>\n                                            <MenuItem value=\"admin\">Admin</MenuItem>\n                                        </Select>\n                                        <FormHelperText\n                                            id={'demo-simple-select-outlined'}\n                                        >\n                                            Please choose the role\n                                        </FormHelperText>\n                                    </FormControl>\n                                </>\n                            ) : activeStep === 1 ? (\n                                <>\n                                    <Typography weight={'medium'}>\n                                        Photo:\n                                    </Typography>\n                                    <div class={classes.galleryWrap}>\n                                    {newUser && newUser.avatars && newUser.avatars.length !== 0 ? (\n                                      newUser.avatars.map((avatar, idx) => (\n                                        <div className={classes.imgWrap}>\n                                          <span className={classes.deleteImageX} onClick={() => deleteOneImage(avatar.id)}>×</span>\n                                          <img\n                                              src={avatar.publicUrl}\n                                              alt=\"photo\"\n                                              height={'100%'}\n                                          />                                          \n                                        </div>\n                                      ))\n                                    ): null}\n                                    </div>\n                                    <label\n                                      className={classes.uploadLabel}\n                                      style={{ cursor: 'pointer' }}\n                                    >\n                                      {'Upload an image'}\n                                        <input style={{ display: 'none' }} accept=\"image/*\" type=\"file\" ref={fileInput} onChange={handleFile} />\n                                    </label>\n                                    <Typography\n                                        size={'sm'}\n                                        style={{ marginBottom: 35 }}\n                                    >\n                                        .PNG, .JPG, .JPEG\n                                    </Typography>\n                                    <TextField\n                                        id=\"outlined-basic\"\n                                        label=\"First Name\"\n                                        onChange={handleChange}\n                                        name=\"firstName\"\n                                        value={newUser.firstName || ''}\n                                        variant=\"outlined\"\n                                        style={{ marginBottom: 35 }}\n                                        helperText=\"Enter your first name\"\n                                    />\n                                    <TextField\n                                        id=\"outlined-basic\"\n                                        label=\"Last Name\"\n                                        onChange={handleChange}\n                                        name=\"lastName\"\n                                        value={newUser.lastName || ''}\n                                        variant=\"outlined\"\n                                        style={{ marginBottom: 35 }}\n                                        helperText={'Enter your last name'}\n                                    />\n                                    <TextField\n                                        id=\"outlined-basic\"\n                                        label=\"Contact number\"\n                                        onChange={handleChange}\n                                        value={newUser.phoneNumber || ''}\n                                        name=\"phoneNumber\"\n                                        variant=\"outlined\"\n                                        style={{ marginBottom: 35 }}\n                                        helperText={\n                                            'Enter your contact number '\n                                        }\n                                    />\n                                    <TextField\n                                        id=\"outlined-basic\"\n                                        label=\"Email\"\n                                        variant=\"outlined\"\n                                        value={newUser.email || ''}\n                                        style={{ marginBottom: 35 }}\n                                        helperText={'Enter your email'}\n                                        type={'email'}\n                                    />\n                                    <FormControl\n                                        variant=\"outlined\"\n                                        style={{ marginBottom: 35 }}\n                                    >\n                                        <InputLabel id=\"demo-simple-select-outlined-label\">\n                                            Country\n                                        </InputLabel>\n                                        <Select\n                                            labelId=\"demo-simple-select-outlined-label\"\n                                            id=\"demo-simple-select-outlined\"\n                                            value={newUser.role || \"user\"}\n                                            defaultValue=\"User\"\n                                            name=\"role\"\n                                            onChange={handleChange}\n                                            label=\"Role\"\n                                        >\n                                            <MenuItem value=\"user\">\n                                                User\n                                            </MenuItem>\n                                            <MenuItem value=\"admin\">\n                                                Admin\n                                            </MenuItem>\n                                        </Select>\n                                        <FormHelperText\n                                            id={'demo-simple-select-outlined'}\n                                        >\n                                            Choose your role\n                                        </FormHelperText>\n                                    </FormControl>\n                                    <FormControl\n                                        variant=\"outlined\"\n                                        style={{ marginBottom: 35 }}\n                                    >\n                                        <InputLabel id=\"demo-simple-select-outlined-label\">\n                                            State\n                                        </InputLabel>\n                                        <Select\n                                            labelId=\"demo-simple-select-outlined-label\"\n                                            id=\"demo-simple-select-outlined\"\n                                            value={''}\n                                            label=\"State\"\n                                        >\n                                            <MenuItem value={10}>User</MenuItem>\n                                            <MenuItem value={20}>\n                                                Admin\n                                            </MenuItem>\n                                            <MenuItem value={30}>\n                                                Super Admin\n                                            </MenuItem>\n                                        </Select>\n                                        <FormHelperText\n                                            id={'demo-simple-select-outlined'}\n                                        >\n                                            Choose your state\n                                        </FormHelperText>\n                                    </FormControl>\n                                    <FormControl\n                                        variant=\"outlined\"\n                                        style={{ marginBottom: 35 }}\n                                    >\n                                        <InputLabel id=\"demo-simple-select-outlined-label\">\n                                            City\n                                        </InputLabel>\n                                        <Select\n                                            labelId=\"demo-simple-select-outlined-label\"\n                                            id=\"demo-simple-select-outlined\"\n                                            value={''}\n                                            label=\"City\"\n                                        >\n                                            <MenuItem value={10}>User</MenuItem>\n                                            <MenuItem value={20}>\n                                                Admin\n                                            </MenuItem>\n                                            <MenuItem value={30}>\n                                                Super Admin\n                                            </MenuItem>\n                                        </Select>\n                                        <FormHelperText\n                                            id={'demo-simple-select-outlined'}\n                                        >\n                                            Choose your city\n                                        </FormHelperText>\n                                    </FormControl>\n                                    <TextField\n                                        id=\"outlined-basic\"\n                                        label=\"Address\"\n                                        variant=\"outlined\"\n                                        onChange={handleChange}\n                                        style={{ marginBottom: 35 }}\n                                        helperText={'Enter your adress'}\n                                    />\n                                </>\n                            ) : activeStep === 2 ? (\n                                <>\n                                    <TextField\n                                        id=\"outlined-basic\"\n                                        label=\"Company Name\"\n                                        variant=\"outlined\"\n                                        onChange={handleChange}\n                                        style={{ marginBottom: 35 }}\n                                        helperText=\"Enter your company name\"\n                                    />\n                                    <TextField\n                                        id=\"outlined-basic\"\n                                        label=\"Company Registered ID\"\n                                        variant=\"outlined\"\n                                        onChange={handleChange}\n                                        style={{ marginBottom: 35 }}\n                                        helperText={\n                                            'Enter your company registered ID'\n                                        }\n                                    />\n                                    <TextField\n                                        id=\"outlined-basic\"\n                                        label=\"Cmpany Email\"\n                                        onChange={handleChange}\n                                        variant=\"outlined\"\n                                        style={{ marginBottom: 35 }}\n                                        helperText={'Enter your company email'}\n                                    />\n                                    <TextField\n                                        id=\"outlined-basic\"\n                                        value={''}\n                                        label=\"Company Contact\"\n                                        onChange={handleChange}\n                                        variant=\"outlined\"\n                                        style={{ marginBottom: 35 }}\n                                        helperText={\n                                            'Enter your company cpntact'\n                                        }\n                                    />\n                                </>\n                            ) : (\n                                <>\n                                    <TextField\n                                        id=\"outlined-basic\"\n                                        label=\"Facebook\"\n                                        variant=\"outlined\"\n                                        onChange={handleChange}\n                                        style={{ marginBottom: 35 }}\n                                        helperText=\"Enter your Facebook link\"\n                                    />\n                                    <TextField\n                                        id=\"outlined-basic\"\n                                        label=\"Twitter\"\n                                        variant=\"outlined\"\n                                        onChange={handleChange}\n                                        style={{ marginBottom: 35 }}\n                                        helperText={'Enter your Twitter link'}\n                                    />\n                                    <TextField\n                                        id=\"outlined-basic\"\n                                        label=\"Instagram\"\n                                        variant=\"outlined\"\n                                        onChange={handleChange}\n                                        style={{ marginBottom: 35 }}\n                                        helperText={'Enter your Instagram link'}\n                                    />\n                                    <TextField\n                                        id=\"outlined-basic\"\n                                        label=\"GitHub\"\n                                        variant=\"outlined\"\n                                        onChange={handleChange}\n                                        style={{ marginBottom: 35 }}\n                                        helperText={'Enter your GitHub link'}\n                                    />\n                                    <TextField\n                                        id=\"outlined-basic\"\n                                        label=\"CodePen\"\n                                        variant=\"outlined\"\n                                        onChange={handleChange}\n                                        style={{ marginBottom: 35 }}\n                                        helperText={'Enter your CodePen link'}\n                                    />\n                                    <TextField\n                                        id=\"outlined-basic\"\n                                        label=\"Slack\"\n                                        variant=\"outlined\"\n                                        style={{ marginBottom: 35 }}\n                                        helperText={'Enter your Slack link'}\n                                    />\n                                </>\n                            )}\n                            <div>\n                                <div>\n                                    {activeStep === 0 ? (\n                                        <Box\n                                            display={'flex'}\n                                            justifyContent={'flex-end'}\n                                        >\n                                            <Button\n                                                variant=\"contained\"\n                                                color=\"primary\"\n                                                onClick={handleNext}\n                                            >\n                                                Next\n                                            </Button>\n                                        </Box>\n                                    ) : (\n                                        <Box\n                                            display={'flex'}\n                                            justifyContent={'space-between'}\n                                        >\n                                            <Button\n                                                onClick={handleBack}\n                                                variant={'outlined'}\n                                                color={'primary'}\n                                            >\n                                                Back\n                                            </Button>\n                                            <Button\n                                                variant=\"contained\"\n                                                color=\"primary\"\n                                                onClick={handleNext}\n                                            >\n                                                {activeStep === steps.length - 1\n                                                    ? 'Finish'\n                                                    : 'Next'}\n                                            </Button>\n                                        </Box>\n                                    )}\n                                </div>\n                            </div>\n                        </Box>\n                    </Grid>\n                </Widget>\n            </Grid>\n        </Grid>\n    )\n}\n\nexport default AddUser\n"]},"metadata":{},"sourceType":"module"}